(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b41a43c"],{"19cc":function(t,e,a){},"7e1d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",[a("div",{staticClass:"row align--center"},[a("div",{staticClass:"flex xs12 md6"},[a("h5",[t._v("LIST OF SCREENING PATIENTS")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12 md3"},[a("va-select",{attrs:{label:t.$t("Branch"),placeholder:t.$t("Search Branch"),options:t.selectBranch},model:{value:t.branch,callback:function(e){t.branch=e},expression:"branch"}})],1),a("div",{staticClass:"flex xs12 md6 offset--md3"},[a("va-input",{attrs:{value:t.term,placeholder:t.$t("Search By Name/NRIC/Passport/MRN"),removable:""},on:{input:t.search}},[a("va-icon",{attrs:{slot:"prepend",name:"fa fa-search"},slot:"prepend"})],1)],1)]),a("va-data-table",{attrs:{fields:t.fields,data:t.filteredData,"per-page":parseInt(t.perPage),hoverable:!0,clickable:""},on:{"row-clicked":t.showPatientProfile},scopedSlots:t._u([{key:"no",fn:function(e){return[t._v(" "+t._s(e.rowIndex+1)+" ")]}},{key:"age",fn:function(e){return[t._v(" "+t._s(t.getAge(e.rowData.age))+" ")]}}])}),a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12 md2 offset--md10"},[a("va-select",{attrs:{label:t.$t("tables.perPage"),options:t.perPageOptions,noClear:""},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)])],1)},r=[],s=a("a34a"),i=a.n(s),o=a("2ef0");function c(t,e,a,n,r,s,i){try{var o=t[s](i),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(n,r)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var s=t.apply(e,a);function i(t){c(s,n,r,i,o,"next",t)}function o(t){c(s,n,r,i,o,"throw",t)}i(void 0)}))}}var h={data:function(){return{term:"",no:1,perPage:"25",perPageOptions:["25","50","100","150","200"],users:[],branch:"",selectBranch:[],service:"",selectService:[]}},computed:{fields:function(){return[{name:"__slot:no",title:this.$t("NO"),width:"30px",height:"45px",dataClass:"text-center"},{name:"mrn",title:this.$t("MRN"),width:"10%"},{name:"salutation",title:this.$t("SALUTATION"),width:"5%"},{name:"name",title:this.$t("NAME"),width:"20%"},{name:"__slot:age",title:this.$t("AGE"),width:"5%"},{name:"nricPassport",title:this.$t("NRIC/PASSPORT"),width:"15%"},{name:"visit",title:this.$t("NEXT VISIT"),width:"10%"},{name:"doctor",title:this.$t("ASSIGNED DOCTOR"),width:"15%"},{name:"services",title:this.$t("SERVICES"),width:"15%"}]},filteredData:function(){var t=this;return(!this.term||this.term.length<1)&&""===this.service&&""===this.branch?this.users:this.users.filter((function(e){return e.services.startsWith(t.service)&&e.branch.startsWith(t.branch)&&(e.name.toLowerCase().startsWith(t.term.toLowerCase())||e.mrn.toLowerCase().startsWith(t.term.toLowerCase())||e.nricPassport.toLowerCase().startsWith(t.term.toLowerCase()))}))}},mounted:function(){var t=this;this.$axios.get("http://127.0.0.1:8000/api/getService").then((function(e){t.selectService=e.data.data.map((function(t){return t.name}))})),this.$axios.get("http://127.0.0.1:8000/api/getBranch").then((function(e){t.selectBranch=e.data.data.map((function(t){return t.name}))})),this.$axios.get("http://127.0.0.1:8000/api/getPatientList").then((function(e){t.users=e.data.data}))},methods:{getAge:function(t){var e="";return null!==t&&(e=(new Date).getFullYear()-t.toString().substring(0,4)),e},getTrendIcon:function(t){return"up"===t.trend?"fa fa-caret-up":"down"===t.trend?"fa fa-caret-down":"fa fa-minus"},getTrendColor:function(t){return"up"===t.trend?"primary":"down"===t.trend?"danger":"grey"},showPatientProfile:function(t){var e=this;return l(i.a.mark((function a(){return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:localStorage.setItem("ID",t.patient_id),e.$router.push({path:"patient-profile"});case 2:case"end":return a.stop()}}),a)})))()},search:Object(o["debounce"])((function(t){this.term=t}),400)}},u=h,d=(a("aa2f"),a("2877")),f=Object(d["a"])(u,n,r,!1,null,null,null);e["default"]=f.exports},aa2f:function(t,e,a){"use strict";a("19cc")}}]);
//# sourceMappingURL=chunk-1b41a43c.da1077b7.js.map