(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f64a32be"],{"024f":function(t,e,a){},"16db":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",[a("div",{staticClass:"row align--center"},[a("div",{staticClass:"flex xs12 md6"},[a("h5",[t._v("LIST OF APPOINTMENTS")])]),a("div",{staticClass:"flex xs12 md1 offset--md5"},[a("button",{staticClass:"ml-2 btn btn-fill btn-md btn-yellow btn-circle",attrs:{type:"button"},on:{click:function(e){return t.$router.push({name:"patient-appointmentBooking"})}}},[a("div",{staticClass:"fa fa-plus"})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12 md3"},[a("va-date-picker",{attrs:{mode:"single",placeholder:"Filter By Date",label:"Date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("div",{staticClass:"flex xs12 md3"},[a("va-select",{attrs:{label:t.$t("Services"),placeholder:t.$t("Filter By Service"),options:t.selectService},model:{value:t.service,callback:function(e){t.service=e},expression:"service"}})],1),a("div",{staticClass:"flex xs12 md6"},[a("va-input",{attrs:{value:t.term,placeholder:t.$t("Search By Name/NRIC/Passport/MRN"),removable:""},on:{input:t.search}},[a("va-icon",{attrs:{slot:"prepend",name:"fa fa-search"},slot:"prepend"})],1)],1)]),a("va-data-table",{attrs:{fields:t.fields,data:t.filteredData,"per-page":parseInt(t.perPage),hoverable:!0},scopedSlots:t._u([{key:"no",fn:function(e){return[t._v(" "+t._s(e.rowIndex+1)+" ")]}},{key:"name",fn:function(e){return[a("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.showPatientProfile(e.rowData)}}},[t._v(" "+t._s(e.rowData.name)+" ")])]}},{key:"status",fn:function(e){return["No Show"===e.rowData.status?a("span",{staticClass:"cell-red"},[t._v(" "+t._s(e.rowData.status)+" ")]):"Processing"===e.rowData.status?a("span",{staticClass:"cell-yellow"},[t._v(" "+t._s(e.rowData.status)+" ")]):"Ready"===e.rowData.status?a("span",{staticClass:"cell-green"},[t._v(" "+t._s(e.rowData.status)+" ")]):"Completed"===e.rowData.status?a("span",{staticClass:"cell-blue"},[t._v(" "+t._s(e.rowData.status)+" ")]):a("span",[t._v(" "+t._s(e.rowData.status)+" ")])]}},{key:"date",fn:function(e){return[t._v(" "+t._s(t.getDate(e.rowData.date))+" ")]}},{key:"actions",fn:function(e){return[a("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"#61CE70",icon:"fa fa-check"},on:{click:function(a){return t.tick(e.rowData)}}}),a("va-button",{staticClass:"ma-0 edit-button",attrs:{flat:"",small:"",color:"#75757",icon:"fa fa-pencil"},on:{click:function(a){return t.edit(e.rowData)}}}),a("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"#DC3545",icon:"fa fa-close"},on:{click:function(a){return t.noShow(e.rowData)}}})]}}])}),a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12 md2 offset--md10"},[a("va-select",{attrs:{label:t.$t("tables.perPage"),options:t.perPageOptions,noClear:""},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)])],1)},n=[],i=a("a34a"),r=a.n(i),o=a("2ef0");function c(t,e,a,s,n,i,r){try{var o=t[i](r),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(s,n)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var i=t.apply(e,a);function r(t){c(i,s,n,r,o,"next",t)}function o(t){c(i,s,n,r,o,"throw",t)}r(void 0)}))}}var u={data:function(){return{term:"",no:1,perPage:"25",perPageOptions:["25","50","100","150","200"],users:[],date:"",formatDate:"",service:"",selectService:[]}},mounted:function(){var t=this;this.$axios.get("http://127.0.0.1:8000/api/getAppointmentList").then((function(e){t.users=e.data.data,t.selectService=e.data.service}))},computed:{fields:function(){return[{name:"__slot:no",title:this.$t("NO"),width:"2%",height:"45px",dataClass:"text-center"},{name:"mrn",title:this.$t("MRN"),width:"8%"},{name:"salutation",title:this.$t("SALUTATION"),width:"5%"},{name:"__slot:name",title:this.$t("NAME"),width:"18%"},{name:"nricPassport",title:this.$t("NRIC/PASSPORT"),width:"10%"},{name:"__slot:status",title:this.$t("STATUS"),width:"10%"},{name:"__slot:date",title:this.$t("APPT. DATE"),width:"10%"},{name:"time",title:this.$t("APPT. TIME"),width:"7%"},{name:"doctor",title:this.$t("ASSIGNED DOCTOR"),width:"10%"},{name:"services",title:this.$t("SERVICES"),width:"10%"},{name:"__slot:actions",title:this.$t("ACTION"),width:"10%"}]},filteredData:function(){var t=this;return(!this.term||this.term.length<1)&&""===this.date&&""===this.service?this.users:this.users.filter((function(e){return e.services.startsWith(t.service)&&e.date.startsWith(t.formatDate)&&(e.name.toLowerCase().startsWith(t.term.toLowerCase())||e.mrn.toLowerCase().startsWith(t.term.toLowerCase())||e.nricPassport.toLowerCase().startsWith(t.term.toLowerCase()))}))}},methods:{getDate:function(t){var e=new Date(t),a=e.toLocaleDateString("en-MY");return a},showPatientProfile:function(t){var e=this;return l(r.a.mark((function a(){return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:localStorage.setItem("ID",t.patient_id),e.$router.push({path:"patient-profile"});case 2:case"end":return a.stop()}}),a)})))()},tick:function(t){var e=this;return l(r.a.mark((function a(){var s,n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(""===t.services){a.next=8;break}return s=new FormData,s.append("appointmentId",t.appointment_id),s.append("serviceType",t.services),n="http://127.0.0.1:8000/api/tickAttendance",a.next=7,e.$axios.post(n,s);case 7:e.refreshList();case 8:case"end":return a.stop()}}),a)})))()},edit:function(t){localStorage.setItem("appointmentId",t.appointment_id),this.$router.push({name:"patient-appointmentBooking",query:{st:"edit"}})},noShow:function(t){var e=this;return l(r.a.mark((function a(){var s,n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=new FormData,s.append("appointmentId",t.appointment_id),n="http://127.0.0.1:8000/api/noShowAttendance",a.next=5,e.$axios.post(n,s);case 5:e.refreshList();case 6:case"end":return a.stop()}}),a)})))()},refreshList:function(){var t=this;this.$axios.get("http://127.0.0.1:8000/api/getAppointmentList").then((function(e){t.users=e.data.data}))},launchToast:function(){this.showToast(" Registration Successful !",{icon:"fa-check",position:"top-center",duration:2500,fullWidth:!1})},search:Object(o["debounce"])((function(t){this.term=t}),400)},watch:{date:function(){var t=this.date.toString().slice(0,4),e=this.date.toString().slice(5,7),a=this.date.toString().slice(8,10),s=t+"/"+e+"/"+a;this.formatDate=s}}},p=u,d=(a("6043"),a("2877")),f=Object(d["a"])(p,s,n,!1,null,null,null);e["default"]=f.exports},6043:function(t,e,a){"use strict";a("024f")}}]);
//# sourceMappingURL=chunk-f64a32be.f0928b6d.js.map