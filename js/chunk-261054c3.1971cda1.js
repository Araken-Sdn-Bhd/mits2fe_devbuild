(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-261054c3"],{b310:function(t,e,a){"use strict";a("eabd")},bce8:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",[a("div",{staticClass:"row align--center"},[a("div",{staticClass:"flex xs12 md6"},[a("h5",[t._v("LIST OF PATIENTS")])]),a("div",{staticClass:"flex xs12 md1 offset--md5"},[a("button",{staticClass:"ml-2 btn btn-fill btn-md btn-yellow btn-circle",attrs:{type:"button"},on:{click:function(e){return t.$router.push({name:"patient-registration"})}}},[a("div",{staticClass:"fa fa-plus"})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12 md3"},[a("va-select",{attrs:{label:t.$t("Branch"),placeholder:t.$t("Filter By Branch"),options:t.selectBranch},model:{value:t.branch,callback:function(e){t.branch=e},expression:"branch"}})],1),a("div",{staticClass:"flex xs12 md3"},[a("va-select",{attrs:{label:t.$t("Services"),placeholder:t.$t("Filter By Service"),options:t.selectService},model:{value:t.service,callback:function(e){t.service=e},expression:"service"}})],1),a("div",{staticClass:"flex xs12 md6"},[a("va-input",{attrs:{value:t.term,placeholder:t.$t("Search By Name/NRIC/Passport/MRN"),removable:""},on:{input:t.search}},[a("va-icon",{attrs:{slot:"prepend",name:"fa fa-search"},slot:"prepend"})],1)],1)]),a("va-data-table",{attrs:{fields:t.fields,data:t.filteredData,"per-page":parseInt(t.perPage),hoverable:!0,clickable:""},on:{"row-clicked":t.showPatientProfile},scopedSlots:t._u([{key:"no",fn:function(e){return[t._v(" "+t._s(e.rowIndex+1)+" ")]}},{key:"age",fn:function(e){return[t._v(" "+t._s(t.getAge(e.rowData.age))+" ")]}}])}),a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12 md2 offset--md10"},[a("va-select",{attrs:{label:t.$t("tables.perPage"),options:t.perPageOptions,noClear:""},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)])],1)},n=[],s=a("a34a"),i=a.n(s),c=a("2ef0");function o(t,e,a,r,n,s,i){try{var c=t[s](i),o=c.value}catch(l){return void a(l)}c.done?e(o):Promise.resolve(o).then(r,n)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var s=t.apply(e,a);function i(t){o(s,r,n,i,c,"next",t)}function c(t){o(s,r,n,i,c,"throw",t)}i(void 0)}))}}var u={data:function(){return{term:"",no:1,perPage:"25",perPageOptions:["25","50","100","150","200"],users:[],branch:"",selectBranch:[],service:"",selectService:[]}},computed:{fields:function(){return[{name:"__slot:no",title:this.$t("NO"),width:"30px",height:"45px",dataClass:"text-center"},{name:"mrn",title:this.$t("MRN"),width:"10%"},{name:"salutation",title:this.$t("SALUTATION"),width:"5%"},{name:"name",title:this.$t("NAME"),width:"20%"},{name:"__slot:age",title:this.$t("AGE"),width:"5%"},{name:"nricPassport",title:this.$t("NRIC/PASSPORT"),width:"15%"},{name:"visit",title:this.$t("NEXT VISIT"),width:"10%"},{name:"doctor",title:this.$t("ASSIGNED DOCTOR"),width:"15%"},{name:"services",title:this.$t("SERVICES"),width:"15%"}]},filteredData:function(){var t=this;return(!this.term||this.term.length<1)&&""===this.service&&""===this.branch?this.users:this.users.filter((function(e){return e.services.startsWith(t.service)&&e.branch.startsWith(t.branch)&&(e.name.toLowerCase().startsWith(t.term.toLowerCase())||e.mrn.toLowerCase().startsWith(t.term.toLowerCase())||e.nricPassport.toLowerCase().startsWith(t.term.toLowerCase()))}))}},mounted:function(){var t=this;this.$axios.get("http://127.0.0.1:8000/api/getPatientList").then((function(e){t.users=e.data.data,t.selectService=e.data.service,t.selectBranch=e.data.branch}))},methods:{getAge:function(t){var e="";return null!==t&&(e=(new Date).getFullYear()-t.toString().substring(0,4)),e},getTrendIcon:function(t){return"up"===t.trend?"fa fa-caret-up":"down"===t.trend?"fa fa-caret-down":"fa fa-minus"},getTrendColor:function(t){return"up"===t.trend?"primary":"down"===t.trend?"danger":"grey"},showPatientProfile:function(t){var e=this;return l(i.a.mark((function a(){return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:localStorage.setItem("ID",t.patient_id),e.$router.push({path:"patient-profile"});case 2:case"end":return a.stop()}}),a)})))()},search:Object(c["debounce"])((function(t){this.term=t}),400)}},d=u,h=(a("b310"),a("2877")),f=Object(h["a"])(d,r,n,!1,null,null,null);e["default"]=f.exports},eabd:function(t,e,a){}}]);
//# sourceMappingURL=chunk-261054c3.1971cda1.js.map