(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77569fbd"],{"590d":function(e,t,l){"use strict";l("a21f")},a21f:function(e,t,l){},b7af:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"content"},[l("div",{staticClass:"container-fluid"},[l("div",{staticClass:"row"},[l("div",{staticClass:"col-12"},[1==e.patientExist?l("div",{staticClass:"mb-3"},[l("va-notification",{attrs:{color:"danger"}},[l("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),l("span",[e._v("Patient with the specified NRIC/PASSPORT already registered in MITS2.")]),l("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(t){e.patientExist=!1}}},[l("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),1==e.tabA?l("div",{staticClass:"mb-3"},[l("va-notification",{attrs:{color:"danger"}},[l("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),l("span",[e._v("Please fill all "),l("b",[e._v(" Demographic ")]),e._v(" required fields.")]),l("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(t){e.tabA=!1}}},[l("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),1==e.tabB?l("div",{staticClass:"mb-3"},[l("va-notification",{attrs:{color:"danger"}},[l("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),l("span",[e._v("Please fill all "),l("b",[e._v(" Sosio Demographic ")]),e._v(" required fields.")]),l("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(t){e.tabB=!1}}},[l("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),1==e.tabC?l("div",{staticClass:"mb-3"},[l("va-notification",{attrs:{color:"danger"}},[l("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),l("span",[e._v("Please fill all "),l("b",[e._v(" Next of Kin ")]),e._v(" required fields.")]),l("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(t){e.tabC=!1}}},[l("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),1==e.tabD?l("div",{staticClass:"mb-3"},[l("va-notification",{attrs:{color:"danger"}},[l("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),l("span",[e._v("Please fill all "),l("b",[e._v(" Allergy ")]),e._v(" required fields.")]),l("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(t){e.tabD=!1}}},[l("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),l("va-card",[l("form-wizard",{ref:"wizard",attrs:{color:"#f2a444","error-color":"#a94442",title:"",subtitle:""},scopedSlots:e._u([{key:"footer",fn:function(t){var a=t.activeTabIndex,s=t.isLastStep,i=t.nextTab,o=t.prevTab;return[l("div",{staticClass:"float-left"},[a>0?l("button",{staticClass:"ml-2 btn btn-fill btn-md btn-blue",attrs:{type:"button"},on:{click:o}},[l("div",{staticClass:"fa fa-angle-double-left"}),e._v(" PREVIOUS ")]):e._e()]),l("div",{staticClass:"float-right"},[s?e._e():l("button",{staticClass:"ml-2 btn btn-fill btn-md btn-blue",attrs:{type:"button"},on:{click:i}},[e._v(" NEXT "),l("div",{staticClass:"fa fa-angle-double-right"})]),s?l("button",{staticClass:"ml-2 btn btn-fill btn-md btn-yellow",attrs:{type:"button"},on:{click:e.showPreviewModal}},[l("div",{staticClass:"fa fa-play"}),e._v(" PREVIEW ")]):e._e(),s&&0==e.update?l("button",{staticClass:"ml-2 btn btn-fill btn-md btn-blue",attrs:{type:"submit"},on:{click:e.validateForm}},[l("div",{staticClass:"fa fa-paper-plane"}),e._v(" SUBMIT ")]):e._e(),s&&1==e.update?l("button",{staticClass:"ml-2 btn btn-primary btn-fill btn-md",attrs:{type:"submit"},on:{click:e.validateUpdateForm}},[l("div",{staticClass:"fa fa-paper-plane"}),e._v(" UPDATE ")]):e._e()])]}}])},[l("tab-content",{attrs:{icon:"fa fa-user-circle-o",title:"1. Demographic"}},[l("vue-form-generator",{ref:"demographic",attrs:{model:e.model,schema:e.tabASchema,options:e.formOptions}})],1),l("tab-content",{attrs:{icon:"fa fa-vcard",title:"2. Socio Demographic"}},[l("vue-form-generator",{ref:"socioDemographic",attrs:{model:e.model,schema:e.tabBSchema,options:e.formOptions}})],1),l("tab-content",{attrs:{icon:"fa fa-group",title:"3. Next of Kin"}},[l("vue-form-generator",{ref:"nextOfKin",attrs:{model:e.model,schema:e.tabCSchema,options:e.formOptions}})],1),l("tab-content",{attrs:{icon:"fa fa-info",title:"4. Allergy"}},[l("vue-form-generator",{ref:"allergy",attrs:{model:e.model,schema:e.tabDSchema,options:e.formOptions}})],1)],1)],1),l("va-modal",{attrs:{size:"large",okText:e.$t("Confirm"),cancelText:e.$t("Close"),"hide-default-actions":!0},model:{value:e.showLargeModal,callback:function(t){e.showLargeModal=t},expression:"showLargeModal"}},[l("div",{staticClass:"modal-preview"},[l("h5",{staticClass:"tab-title"},[e._v("1. Demographic")]),l("vue-form-generator",{staticClass:"read-only",attrs:{model:e.model,schema:e.tabAModalSchema}}),l("h5",{staticClass:"tab-title"},[e._v("2. Sosio Demographic")]),l("vue-form-generator",{staticClass:"sosio-margin read-only",attrs:{model:e.model,schema:e.tabBSchema}}),l("h5",{staticClass:"tab-title"},[e._v("3. Next of Kin")]),l("vue-form-generator",{staticClass:"read-only",attrs:{model:e.model,schema:e.tabCSchema}}),l("h5",{staticClass:"tab-title"},[e._v("4. Allergy")]),l("vue-form-generator",{staticClass:"read-only",attrs:{model:e.model,schema:e.tabDModalSchema}}),l("div",{staticStyle:{float:"right"}},[l("button",{staticClass:"ml-2 btn btn-secondary btn-fill btn-md",attrs:{type:"button"},on:{click:function(t){e.showLargeModal=!1}}},[e._v(" CLOSE ")])])],1)])],1)])])])},s=[],i=l("a34a"),o=l.n(i),n=l("8e5f"),r=l.n(n),d=l("4309"),u=l.n(d),c=(l("e517"),l("a026")),p=l("5f5b"),m=l("b1e0"),_=(l("f9e3"),l("2dd8"),l("6dfc"),l("2ee4")),v=l.n(_);l("da93");function y(e,t,l,a,s,i,o){try{var n=e[i](o),r=n.value}catch(d){return void l(d)}n.done?t(r):Promise.resolve(r).then(a,s)}function C(e){return function(){var t=this,l=arguments;return new Promise((function(a,s){var i=e.apply(t,l);function o(e){y(i,a,s,o,n,"next",e)}function n(e){y(i,a,s,o,n,"throw",e)}o(void 0)}))}}c["default"].use(v.a),c["default"].use(p["a"]),c["default"].use(m["a"]),c["default"].use(u.a),c["default"].component("multiselect",r.a),l("7fd9"),l("b0f4");var E={name:"modals",components:{},data:function(){var e=this;return{patientExist:!1,id:"",tabA:!1,tabB:!1,tabC:!1,tabD:!1,show:!0,showLargeModal:!1,submitPath:!1,update:!1,patient_data:"",patientAllergy1:null,patientAllergy2:null,patientAllergy3:null,selectSalutation:[],radioCitizenship:[],selectNRICType:[],radioGender:[],selectServiceType:[],selectReferralType:[],selectIssuingCountry:[],selectState:[],selectDMCity:[],selectDMPostcode:[],selectBranch:[],selectRace:[],selectReligion:[],selectMaritalStatus:[],selectAccommodation:[],selectEducationLevel:[],selectOccupationStatus:[],selectFeeExemptionStatus:[],selectOccupationSector:[],selectRelationship:[],radioAllergy:[{name:"Yes",value:1},{name:"No",value:0}],model:{PATIENT_EXIST_ID:"",SALUTATION:"",DM_NAME:"",CITIZENSHIP:"",NRIC_TYPE:"",NRIC_NO:"",PASSPORT_NO:"",PASSPORT_EXPIRY_DATE:"",ISSUING_COUNTRY:"",GENDER:"",BIRTH_DATE:"",AGE:"",DM_MOBILE_NO:"",DM_HOUSE_NO:"",HOSPITAL_MRN:"",MENTARI_MRN:"",SERVICE_TYPE:"",REFERRAL_TYPE:"",SPECIFY_REFERRAL:"",REFERRAL_LETTER:[],DM_ADDRESS_LINE_1:"",DM_ADDRESS_LINE_2:"",DM_ADDRESS_LINE_3:"",DM_POSTCODE:"",DM_CITY:"",DM_STATE:"",EXISTING_PATIENT:"",BRANCH:"",RACE:"",SPECIFY_RACE:"",RELIGION:"",SPECIFY_RELIGION:"",MARITAL_STATUS:"",SPECIFY_MARITAL_STATUS:"",ACCOMMODATION:"",SPECIFY_ACCOMMODATION:"",EDUCATION_LEVEL:"",OCCUPATION_STATUS:"",SPECIFY_OCCUPATION_STATUS:"",FEE_EXEMPTION_STATUS:"",SPECIFY_FEE_EXEMPTION_STATUS:"",OCCUPATION_SECTOR:"",SPECIFY_OCCUPATION_SECTOR:"",NOK_NAME:"",NOK_RELATIONSHIP:"",NOK_MOBILE_NO:"",NOK_HOUSE_NO:"",NOK_ADDRESS_L1:"",NOK_ADDRESS_L2:"",NOK_ADDRESS_L3:"",NOK_STATE:"",NOK_CITY:"",NOK_POSTCODE:"",ALLERGY:[null,null,null],DRUG_ALL_SPECIFY:"",SUPP_ALL_SPECIFY:"",OTHERS_SPECIFY:"",MD_CITIZENSHIP:"",MD_EXISTING_PATIENT:"",MD_GENDER:"",MD_ALLERGY:[null,null,null],selectDMCity:[],selectDMPostcode:[],selectCity:[],selectPostcode:[]},tabASchema:{fields:[{type:"vueMultiSelect",placeholder:"Please select",label:"Salutation",model:"SALUTATION",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:100,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-3",values:function(){return e.selectSalutation}},{type:"input",inputType:"text",label:"Name (as in NRIC)",model:"DM_NAME",validator:"string",required:!0,styleClasses:"col-md-9"},{type:"radios",label:"Citizenship",model:"CITIZENSHIP",required:!0,validator:"required",styleClasses:"col-md-12",values:function(){return e.radioCitizenship},onChanged:function(e,t,l,a){(1===t||2===t||3===t)&&(e.PASSPORT_NO="",e.PASSPORT_EXPIRY_DATE="",e.ISSUING_COUNTRY="",e.NRIC_TYPE="",e.NRIC_NO="")}},{type:"vueMultiSelect",placeholder:"Please select",label:"NRIC Type",model:"NRIC_TYPE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,allowEmpty:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectNRICType},visible:function(e){return e&&1===e.CITIZENSHIP},onChanged:function(e,t,l,a){e.NRIC_NO=""}},{type:"cleave",label:"NRIC NO",model:"NRIC_NO",required:!0,validator:"string",cleaveOptions:{blocks:[6,2,4],delimiter:"-",numericOnly:!0},placeholder:"XXXXXX-XX-XXXX",styleClasses:"col-md-6",visible:function(e){return e&&(1===e.CITIZENSHIP&&2===e.NRIC_TYPE.value||2===e.CITIZENSHIP)}},{type:"input",inputType:"text",label:"NRIC NO",model:"NRIC_NO",validator:"string",required:!0,styleClasses:"col-md-6",visible:function(e){return e&&(1===e.CITIZENSHIP&&1===e.NRIC_TYPE.value||1===e.CITIZENSHIP&&3===e.NRIC_TYPE.value||1===e.CITIZENSHIP&&4===e.NRIC_TYPE.value||1===e.CITIZENSHIP&&5===e.NRIC_TYPE.value||1===e.CITIZENSHIP&&6===e.NRIC_TYPE.value||1===e.CITIZENSHIP&&7===e.NRIC_TYPE.value||1===e.CITIZENSHIP&&8===e.NRIC_TYPE.value||1===e.CITIZENSHIP&&9===e.NRIC_TYPE.value||1===e.CITIZENSHIP&&10===e.NRIC_TYPE.value||1===e.CITIZENSHIP&&11===e.NRIC_TYPE.value)}},{type:"input",inputType:"text",label:"Passport NO",model:"PASSPORT_NO",validator:"string",required:!0,styleClasses:"col-md-4",visible:function(e){return e&&3===e.CITIZENSHIP}},{type:"input",inputType:"date",label:"Expiry Date",model:"PASSPORT_EXPIRY_DATE",placeholder:"Enter Date",required:!0,validator:"required",format:"YYYY/MM/DD",styleClasses:"col-md-4",visible:function(e){return e&&3===e.CITIZENSHIP}},{type:"vueMultiSelect",placeholder:"Please select",label:"Issuing Country",model:"ISSUING_COUNTRY",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectIssuingCountry},visible:function(e){return e&&3===e.CITIZENSHIP}},{type:"radios",label:"Gender",model:"GENDER",required:!0,validator:"required",styleClasses:"col-12",values:function(){return e.radioGender}},{type:"input",inputType:"date",label:"Date of Birth",model:"BIRTH_DATE",placeholder:"Enter Date",required:!0,validator:"required",format:"YYYY/MM/DD",styleClasses:"col-md-6",onChanged:function(e,t,l,a){e.AGE=(new Date).getFullYear()-e.BIRTH_DATE.toString().substring(0,4)}},{type:"input",inputType:"number",label:"Age",model:"AGE",min:0,validator:"number",styleClasses:"col-md-6"},{type:"cleave",label:"Mobile Phone Number",model:"DM_MOBILE_NO",cleaveOptions:{phone:!0,phoneRegionCode:"MY"},required:!0,validator:"required",styleClasses:"col-md-6"},{type:"cleave",label:"House Phone Number",model:"DM_HOUSE_NO",cleaveOptions:{phone:!0,phoneRegionCode:"MY"},validator:"required",styleClasses:"col-md-6"},{type:"input",inputType:"text",label:"Hospital's MRN",model:"HOSPITAL_MRN",validator:"string",styleClasses:"col-md-6"},{type:"input",inputType:"text",label:"Mentari's MRN",model:"MENTARI_MRN",validator:"string",styleClasses:"col-md-6"},{type:"vueMultiSelect",placeholder:"Please select",label:"Type of Services",model:"SERVICE_TYPE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectServiceType}},{type:"vueMultiSelect",placeholder:"Please select",label:"Type of Referral",model:"REFERRAL_TYPE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectReferralType},onChanged:function(e){e.SPECIFY_REFERRAL=""}},{type:"input",inputType:"text",label:"To Specify",model:"SPECIFY_REFERRAL",validator:"string",required:!0,styleClasses:"col-md-4",visible:function(e){return e&&7===e.REFERRAL_TYPE.value}},{type:"input",inputType:"text",label:"Address",model:"DM_ADDRESS_LINE_1",placeholder:"Address line 1",validator:"string",styleClasses:"col-md-12"},{type:"input",inputType:"text",model:"DM_ADDRESS_LINE_2",placeholder:"Address line 2",validator:"string",styleClasses:"col-md-12"},{type:"input",inputType:"text",model:"DM_ADDRESS_LINE_3",placeholder:"Address line 3",validator:"string",styleClasses:"col-md-12"},{type:"vueMultiSelect",placeholder:"Please select",label:"State",model:"DM_STATE",validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",onChanged:function(e){this.$axios.get("http://127.0.0.1:8000/api/getCity?state_id="+e.DM_STATE.value).then((function(t){e.selectDMCity=t.data.data})),this.model.DM_CITY="",this.model.DM_POSTCODE=""},values:function(){return e.selectState}},{type:"vueMultiSelect",placeholder:"Please select",label:"City",model:"DM_CITY",validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(e){return e.selectDMCity},onChanged:function(e){this.$axios.get("http://127.0.0.1:8000/api/getPostcode?city_id="+e.DM_CITY.value).then((function(t){e.selectDMPostcode=t.data.data})),this.model.DM_POSTCODE=""}},{type:"vueMultiSelect",placeholder:"Please select",label:"Postcode",model:"DM_POSTCODE",validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(e){return e.selectDMPostcode}}],groups:[{styleClasses:["row"],fields:[{type:"radios",label:"Is this person an existing patient?",model:"EXISTING_PATIENT",required:!0,values:[{value:1,name:"Yes"},{value:2,name:"No"}],validator:"required",styleClasses:"col-md-6"},{type:"vueMultiSelect",placeholder:"Please select",label:"Mentari Branch",model:"BRANCH",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectBranch},visible:function(e){if(1===e.EXISTING_PATIENT)return e&&1===e.EXISTING_PATIENT;e.BRANCH=""}}]}]},tabBSchema:{groups:[{styleClasses:"row",fields:[{type:"vueMultiSelect",placeholder:"Please select",label:"Race",model:"RACE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,allowEmpty:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectRace}},{type:"input",inputType:"text",label:"To Specify",model:"SPECIFY_RACE",validator:"string",required:!0,styleClasses:"col-md-2",visible:function(e){return e&&7===e.RACE.value}},{type:"vueMultiSelect",placeholder:"Please select",label:"Religion",model:"RELIGION",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,allowEmpty:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectReligion}},{type:"input",inputType:"text",label:"To Specify",model:"SPECIFY_RELIGION",validator:"string",required:!0,styleClasses:"col-md-2",visible:function(e){return e&&12===e.RELIGION.value}}]},{styleClasses:"row",fields:[{type:"vueMultiSelect",placeholder:"Please select",label:"Marital Status",model:"MARITAL_STATUS",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,allowEmpty:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectMaritalStatus}},{type:"input",inputType:"text",label:"To Specify",model:"SPECIFY_MARITAL_STATUS",validator:"string",required:!0,styleClasses:"col-md-2",visible:function(e){return e&&6===e.MARITAL_STATUS.value}},{type:"vueMultiSelect",placeholder:"Please select",label:"Accommodation",model:"ACCOMMODATION",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,allowEmpty:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectAccommodation}},{type:"input",inputType:"text",label:"To Specify",model:"SPECIFY_ACCOMMODATION",validator:"string",required:!0,styleClasses:"col-md-2",visible:function(e){return e&&4===e.ACCOMMODATION.value}}]},{styleClasses:"row",fields:[{type:"vueMultiSelect",placeholder:"Please select",label:"Education Level",model:"EDUCATION_LEVEL",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,allowEmpty:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectEducationLevel}},{type:"vueMultiSelect",placeholder:"Please select",label:"Occupation Status",model:"OCCUPATION_STATUS",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,allowEmpty:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectOccupationStatus}},{type:"input",inputType:"text",label:"To Specify",model:"SPECIFY_OCCUPATION_STATUS",validator:"string",required:!0,styleClasses:"col-md-2",visible:function(e){return e&&10===e.OCCUPATION_STATUS.value}}]},{styleClasses:"row",fields:[{type:"vueMultiSelect",placeholder:"Please select",label:"Fee Exemption Status",model:"FEE_EXEMPTION_STATUS",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,allowEmpty:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectFeeExemptionStatus}},{type:"input",inputType:"text",label:"To Specify",model:"SPECIFY_FEE_EXEMPTION_STATUS",validator:"string",required:!0,styleClasses:"col-md-2",visible:function(e){return e&&5===e.FEE_EXEMPTION_STATUS.value}},{type:"vueMultiSelect",placeholder:"Please select",label:"Occupation Sector",model:"OCCUPATION_SECTOR",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,allowEmpty:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectOccupationSector}},{type:"input",inputType:"text",label:"To Specify",model:"SPECIFY_OCCUPATION_SECTOR",validator:"string",required:!0,styleClasses:"col-md-2",visible:function(e){return e&&14===e.OCCUPATION_SECTOR.value}}]}]},tabCSchema:{fields:[{type:"input",inputType:"text",label:"Name (as in NRIC)",placeholder:"Enter Full Name",model:"NOK_NAME",required:!0,validator:"string",styleClasses:"col-xl-8"},{type:"vueMultiSelect",model:"NOK_RELATIONSHIP",label:"Relationship",placeholder:"Please Select",selectOptions:{multiple:!1,closeOnSelect:!0,showLabels:!1,key:"value",label:"name"},values:function(){return e.selectRelationship},required:!0,validator:"required",styleClasses:"col-xl-4"},{type:"cleave",label:"Mobile Phone Number",model:"NOK_MOBILE_NO",placeholder:"Enter Mobile Phone Number",cleaveOptions:{phone:!0,phoneRegionCode:"MY"},required:!0,validator:"required",styleClasses:"col-xl-4"},{type:"cleave",label:"House Phone Number",model:"NOK_HOUSE_NO",placeholder:"Enter House Phone Number",cleaveOptions:{phone:!0,phoneRegionCode:"MY"},validator:"required",styleClasses:"col-xl-4"},{type:"input",inputType:"text",label:"Address",model:"NOK_ADDRESS_L1",placeholder:"Address Line 1",validator:"string",styleClasses:"col-xl-8"},{type:"input",inputType:"text",model:"NOK_ADDRESS_L2",placeholder:"Address Line 2",validator:"string",styleClasses:"col-xl-8"},{type:"input",inputType:"text",model:"NOK_ADDRESS_L3",placeholder:"Address Line 3",validator:"string",styleClasses:"col-xl-8"}],groups:[{fields:[{type:"vueMultiSelect",model:"NOK_STATE",label:"State",placeholder:"Please Select",selectOptions:{multiple:!1,closeOnSelect:!0,showLabels:!1,key:"value",label:"name"},onChanged:function(e){this.$axios.get("http://127.0.0.1:8000/api/getCity?state_id="+e.NOK_STATE.value).then((function(t){e.selectCity=t.data.data})),this.model.NOK_CITY="",this.model.NOK_POSTCODE=""},values:function(){return e.selectState},validator:"required",styleClasses:"col-xl-2"},{type:"vueMultiSelect",model:"NOK_CITY",label:"City",placeholder:"Please Select",selectOptions:{multiple:!1,closeOnSelect:!0,showLabels:!1,key:"value",label:"name"},onChanged:function(e){this.$axios.get("http://127.0.0.1:8000/api/getPostcode?city_id="+e.NOK_CITY.value).then((function(t){e.selectPostcode=t.data.data})),this.model.NOK_POSTCODE=""},values:function(e){return e.selectCity},validator:"required",styleClasses:"col-xl-2"},{type:"vueMultiSelect",model:"NOK_POSTCODE",label:"Postcode",placeholder:"Please Select",selectOptions:{multiple:!1,closeOnSelect:!0,showLabels:!1,key:"value",label:"name"},values:function(e){return e.selectPostcode},validator:"required",styleClasses:"col-xl-2"}]}]},tabDSchema:{groups:[{styleClasses:"row col",legend:"",fields:[{type:"label",label:"Drug Allergy",styleClasses:"col-sm-5 mt-1"},{type:"radios",model:"ALLERGY[0]",values:function(){return e.radioAllergy},required:!0,validator:"required",styleClasses:"col-xs1"},{type:"input",inputType:"text",label:"To specify",model:"DRUG_ALL_SPECIFY",placeholder:"",visible:function(e){return e&&1===e.ALLERGY[0]},required:!0,validator:"string",styleClasses:"col-md-6"}]},{styleClasses:"row col",legend:"",fields:[{type:"label",label:"Traditional Medication / Supplement Allergy",styleClasses:"col-sm-5 mt-1"},{type:"radios",model:"ALLERGY[1]",values:function(){return e.radioAllergy},required:!0,validator:"required",styleClasses:"col-xs1"},{type:"input",inputType:"text",label:"To specify",model:"SUPP_ALL_SPECIFY",placeholder:"",visible:function(e){return e&&1===e.ALLERGY[1]},required:!0,validator:"string",styleClasses:"col-md-6"}]},{styleClasses:"row col",legend:"",fields:[{type:"label",label:"Others",styleClasses:"col-sm-5 mt-1"},{type:"radios",model:"ALLERGY[2]",values:function(){return e.radioAllergy},required:!0,validator:"required",styleClasses:"col-xs1"},{type:"input",inputType:"text",label:"To specify",model:"OTHERS_SPECIFY",placeholder:"",visible:function(e){return e&&1===e.ALLERGY[2]},required:!0,validator:"string",styleClasses:"col-md-6"}]}]},tabAModalSchema:{fields:[{type:"vueMultiSelect",placeholder:"Please select",label:"Salutation",model:"SALUTATION",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:100,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-3",values:function(){return e.selectSalutation}},{type:"input",inputType:"text",label:"Name (as in NRIC)",model:"DM_NAME",validator:"string",required:!0,styleClasses:"col-md-9"},{type:"radios",label:"Citizenship",model:"MD_CITIZENSHIP",required:!0,validator:"required",styleClasses:"col-md-12",values:function(){return e.radioCitizenship}},{type:"vueMultiSelect",placeholder:"Please select",label:"NRIC Type",model:"NRIC_TYPE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,allowEmpty:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectNRICType},visible:function(e){return e&&1===e.CITIZENSHIP}},{type:"cleave",label:"NRIC NO",model:"NRIC_NO",required:!0,cleaveOptions:{blocks:[6,2,4],delimiter:"-",numericOnly:!0},placeholder:"XXXXXX-XX-XXXX",validator:"required",styleClasses:"col-md-6",visible:function(e){return e&&(2===e.NRIC_TYPE.value||2===e.CITIZENSHIP)}},{type:"input",inputType:"text",label:"NRIC NO",model:"NRIC_NO",validator:"string",required:!0,styleClasses:"col-md-6",visible:function(e){return e&&(1===e.NRIC_TYPE.value||3===e.NRIC_TYPE.value||4===e.NRIC_TYPE.value||5===e.NRIC_TYPE.value||6===e.NRIC_TYPE.value||7===e.NRIC_TYPE.value||8===e.NRIC_TYPE.value||9===e.NRIC_TYPE.value||10===e.NRIC_TYPE.value||11===e.NRIC_TYPE.value)}},{type:"input",inputType:"text",label:"Passport NO",model:"PASSPORT_NO",validator:"string",required:!0,styleClasses:"col-md-4",visible:function(e){return e&&3===e.CITIZENSHIP}},{type:"input",inputType:"date",label:"Expiry Date",model:"PASSPORT_EXPIRY_DATE",placeholder:"Enter Date",required:!0,validator:"required",format:"YYYY/MM/DD",min:1,styleClasses:"col-md-4",visible:function(e){return e&&3===e.CITIZENSHIP}},{type:"vueMultiSelect",placeholder:"Please select",label:"Issuing Country",model:"ISSUING_COUNTRY",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectIssuingCountry},visible:function(e){return e&&3===e.CITIZENSHIP}},{type:"radios",label:"Gender",model:"MD_GENDER",required:!0,validator:"required",styleClasses:"col-12 display-inline",values:function(){return e.radioGender}},{type:"input",inputType:"date",label:"Date of Birth",model:"BIRTH_DATE",placeholder:"Enter Date",required:!0,validator:"required",format:"YYYY/MM/DD",styleClasses:"col-md-6"},{type:"input",inputType:"number",label:"Age",model:"AGE",min:0,validator:"number",styleClasses:"col-md-6"},{type:"cleave",label:"Mobile Phone Number",model:"DM_MOBILE_NO",cleaveOptions:{phone:!0,phoneRegionCode:"MY"},required:!0,validator:"required",styleClasses:"col-md-6"},{type:"cleave",label:"House Phone Number",model:"DM_HOUSE_NO",cleaveOptions:{phone:!0,phoneRegionCode:"MY"},validator:"required",styleClasses:"col-md-6"},{type:"input",inputType:"text",label:"Hospital's MRN Number",model:"HOSPITAL_MRN",validator:"string",required:!0,styleClasses:"col-md-6"},{type:"input",inputType:"text",label:"Mentari's MRN Number",model:"MENTARI_MRN",validator:"string",required:!0,styleClasses:"col-md-6"},{type:"vueMultiSelect",placeholder:"Please select",label:"Type of Services",model:"SERVICE_TYPE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectServiceType}},{type:"vueMultiSelect",placeholder:"Please select",label:"Type of Referral",model:"REFERRAL_TYPE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-4",values:function(){return e.selectReferralType}},{type:"input",inputType:"text",label:"To Specify",model:"SPECIFY_REFERRAL",validator:"string",required:!0,styleClasses:"col-md-4",visible:function(e){return e&&7===e.REFERRAL_TYPE.value}},{labels:"Upload Referral Letter",accept:".xlxs",multiple:!0,text:"Choose a File",model:"REFERRAL_LETTER",type:"vfg-custom-file-excel",styleClasses:"col-md-6",hint:"*Please upload excel only (max file size 2MB)"},{type:"input",inputType:"text",label:"Address",model:"DM_ADDRESS_LINE_1",placeholder:"Address line 1",validator:"string",styleClasses:"col-md-12"},{type:"input",inputType:"text",model:"DM_ADDRESS_LINE_2",placeholder:"Address line 2",validator:"string",styleClasses:"col-md-12"},{type:"input",inputType:"text",model:"DM_ADDRESS_LINE_3",placeholder:"Address line 3",validator:"string",styleClasses:"col-md-12"},{type:"vueMultiSelect",placeholder:"Please select",label:"State",model:"DM_STATE",validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectState}},{type:"vueMultiSelect",placeholder:"Please select",label:"City",model:"DM_CITY",validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectDMCity}},{type:"vueMultiSelect",placeholder:"Please select",label:"Postcode",model:"DM_POSTCODE",validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1},styleClasses:"col-md-6",values:function(){return e.selectDMPostcode}}],groups:[{fields:[{type:"radios",label:"Is this person an existing patient?",model:"MD_EXISTING_PATIENT",required:!0,values:[{value:1,name:"Yes"},{value:2,name:"No"}],validator:"required",styleClasses:"col-md-6 display-inline"},{type:"vueMultiSelect",placeholder:"Please select",label:"Mentari Branch",model:"BRANCH",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectBranch},visible:function(e){return e&&1===e.EXISTING_PATIENT}}],validator:"required",styleClasses:"col-md-12 display-inline"}]},tabDModalSchema:{groups:[{styleClasses:"row col",legend:"",fields:[{type:"label",label:"Drug Allergy",styleClasses:"col-sm-5 mt-1"},{type:"radios",model:"MD_ALLERGY[0]",values:function(){return e.radioAllergy},required:!0,validator:"required",styleClasses:"col-xs1"},{type:"input",inputType:"text",label:"To specify",model:"DRUG_ALL_SPECIFY",placeholder:"",visible:function(e){return e&&1===e.ALLERGY[0]},required:!0,validator:"string",styleClasses:"col-md-6"}]},{styleClasses:"row col",legend:"",fields:[{type:"label",label:"Traditional Medication / Supplement Allergy",styleClasses:"col-sm-5 mt-1"},{type:"radios",model:"MD_ALLERGY[1]",values:function(){return e.radioAllergy},required:!0,validator:"required",styleClasses:"col-xs1"},{type:"input",inputType:"text",label:"To specify",model:"SUPP_ALL_SPECIFY",placeholder:"",visible:function(e){return e&&1===e.ALLERGY[1]},required:!0,validator:"string",styleClasses:"col-md-6"}]},{styleClasses:"row col",legend:"",fields:[{type:"label",label:"Others",styleClasses:"col-sm-5 mt-1"},{type:"radios",model:"MD_ALLERGY[2]",values:function(){return e.radioAllergy},required:!0,validator:"required",styleClasses:"col-xs1"},{type:"input",inputType:"text",label:"To specify",model:"OTHERS_SPECIFY",placeholder:"",visible:function(e){return e&&1===e.ALLERGY[2]},required:!0,validator:"string",styleClasses:"col-md-6"}]}]},formOptions:{validateAfterLoad:!1,validateAfterChanged:!0}}},mounted:function(){var e=this;if(window.onbeforeunload=function(){return"Data will be lost if you leave the page, are you sure?"},this.$axios.get("http://127.0.0.1:8000/api/getRegistrationData?country_id=1").then((function(t){e.selectSalutation=t.data.salutation,e.radioCitizenship=t.data.citizenship,e.selectNRICType=t.data.NRICType,e.selectIssuingCountry=t.data.issuingCountry,e.radioGender=t.data.gender,e.selectServiceType=t.data.serviceType,e.selectReferralType=t.data.referralType,e.selectState=t.data.state,e.selectBranch=t.data.branch,e.selectRace=t.data.race,e.selectReligion=t.data.religion,e.selectMaritalStatus=t.data.marital,e.selectAccommodation=t.data.accommodation,e.selectEducationLevel=t.data.education,e.selectOccupationStatus=t.data.occStatus,e.selectFeeExemptionStatus=t.data.feeExemption,e.selectOccupationSector=t.data.occSector,e.selectRelationship=t.data.relationship})),"edit"===this.$route.query.st){var t=JSON.parse(localStorage.getItem("ID"));this.update=!0,this.$axios.get("http://127.0.0.1:8000/api/getPatientData?patient_id="+t).then((function(t){var l=t.data.data;null!=l.salutation_fk&&(e.model.SALUTATION={value:l.salutation_fk,name:l.salutation}),e.model.DM_NAME=l.name,e.model.CITIZENSHIP=l.citizenship_fk,null!=l.nric_type_fk&&(e.model.NRIC_TYPE={value:l.nric_type_fk,name:l.nric_type}),e.model.NRIC_NO=l.nric_no,e.model.PASSPORT_NO=l.passport_no,e.model.PASSPORT_EXPIRY_DATE=l.date_expiry,null!=l.issuing_country_fk&&(e.model.ISSUING_COUNTRY={value:l.issuing_country_fk,name:l.issuing_country}),e.model.GENDER=l.gender_fk,e.model.BIRTH_DATE=l.birthdate,null!=l.birthdate&&(e.model.AGE=(new Date).getFullYear()-l.birthdate.toString().substring(0,4)),e.model.DM_MOBILE_NO=l.phone_no_1,e.model.DM_HOUSE_NO=l.phone_no_2,e.model.HOSPITAL_MRN=l.hospital_mrn,e.model.MENTARI_MRN=l.mentari_mrn,null!=l.service_fk&&(e.model.SERVICE_TYPE={value:l.service_fk,name:l.service}),null!=l.referral_fk&&(e.model.REFERRAL_TYPE={value:l.referral_fk,name:l.referral}),e.model.SPECIFY_REFERRAL=l.referral_desc,e.model.DM_ADDRESS_LINE_1=l.address1,e.model.DM_ADDRESS_LINE_2=l.address2,e.model.DM_ADDRESS_LINE_3=l.address3,null!=l.dm_state_fk&&(e.model.DM_STATE={value:l.dm_state_fk,name:l.dm_state}),null!=l.dm_city_fk&&(e.model.DM_CITY={value:l.dm_city_fk,name:l.dm_city}),null!=l.dm_postcode&&(e.model.DM_POSTCODE={value:l.dm_postcode_fk,name:l.dm_postcode}),e.model.EXISTING_PATIENT=l.status_fk,null!=l.branch_fk&&(e.model.BRANCH={value:l.branch_fk,name:l.branch}),null!=l.ethnic_fk&&(e.model.RACE={value:l.ethnic_fk,name:l.ethnic}),null!=l.religion_fk&&(e.model.RELIGION={value:l.religion_fk,name:l.religion}),null!=l.marital_fk&&(e.model.MARITAL_STATUS={value:l.marital_fk,name:l.marital}),null!=l.accommodation_fk&&(e.model.ACCOMMODATION={value:l.accommodation_fk,name:l.accommodation}),null!=l.education_fk&&(e.model.EDUCATION_LEVEL={value:l.education_fk,name:l.education}),null!=l.occupation_status_fk&&(e.model.OCCUPATION_STATUS={value:l.occupation_status_fk,name:l.occupation_status}),l.fee_exemption_fk&&(e.model.FEE_EXEMPTION_STATUS={value:l.fee_exemption_fk,name:l.fee_exemption}),l.occupation_sector_fk&&(e.model.OCCUPATION_SECTOR={value:l.occupation_sector_fk,name:l.occupation_sector}),e.model.NOK_NAME=l.nok_name,l.relation_fk&&(e.model.NOK_RELATIONSHIP={value:l.relation_fk,name:l.relation}),e.model.NOK_MOBILE_NO=l.nok_phone_no_1,e.model.NOK_HOUSE_NO=l.nok_phone_no_2,e.model.NOK_ADDRESS_L1=l.nok_address1,e.model.NOK_ADDRESS_L2=l.nok_address2,e.model.NOK_ADDRESS_L3=l.nok_address3,null!=l.nok_state_fk&&(e.model.NOK_STATE={value:l.nok_state_fk,name:l.nok_state}),null!=l.nok_city_fk&&(e.model.NOK_CITY={value:l.nok_city_fk,name:l.nok_city}),null!=l.nok_postcode_fk&&(e.model.NOK_POSTCODE={value:l.nok_postcode_fk,name:l.nok_postcode}),e.model.ALLERGY=[0,0,0];for(var a=t.data.allergy,s=0;s<a.length;s++)1===a[s].allergy_type_fk?(e.patientAllergy1=a[s].patient_allergy_id,e.model.ALLERGY.splice(0,1,1),e.model.DRUG_ALL_SPECIFY=a[s].allergy_desc):2===a[s].allergy_type_fk?(e.patientAllergy2=a[s].patient_allergy_id,e.model.ALLERGY.splice(1,1,1),e.model.SUPP_ALL_SPECIFY=a[s].allergy_desc):3===a[s].allergy_type_fk&&(e.patientAllergy3=a[s].patient_allergy_id,e.model.ALLERGY.splice(2,1,1),e.model.OTHERS_SPECIFY=a[s].allergy_desc)}))}},methods:{validatePatient:function(){var e=this;return C(o.a.mark((function t(){var l,a,s;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l="",e.model.PATIENT_EXIST_ID="",l=""!==e.model.NRIC_NO?e.model.NRIC_NO.replace(/-/g,""):e.model.PASSPORT_NO,a="http://127.0.0.1:8000/api/verifyPatient?id="+l,t.next=6,e.$axios.get(a);case 6:if(s=t.sent,""!==s.data.data&&(e.model.PATIENT_EXIST_ID=JSON.stringify(s.data.data[0].value)),""!==e.model.PATIENT_EXIST_ID){t.next=13;break}return e.patientExist=!1,t.abrupt("return",!0);case 13:return e.patientExist=!0,t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t)})))()},validateForm:function(){var e=this;return C(o.a.mark((function t(){var l,a,s,i,n,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l=e.validateTabA(),a=e.validateTabB(),s=e.validateTabC(),i=e.validateTabD(),t.next=6,e.validatePatient();case 6:n=t.sent,l&&a&&s&&i&&n&&(e.submitPath=!0,null==e.model.DM_STATE&&(e.model.DM_CITY="",e.model.DM_POSTCODE=""),r=new FormData,r.append("ptData",JSON.stringify(e.model)),e.$axios.post("http://127.0.0.1:8000/api/registerPatient",r).then((function(t){var l=t.data.patientId;localStorage.setItem("ID",JSON.stringify(l)),e.$router.push({path:"patient-profile"})})),e.launchToast("Registration Successful"));case 8:case"end":return t.stop()}}),t)})))()},validateUpdateForm:function(){var e=this,t=this.validateTabA(),l=this.validateTabB(),a=this.validateTabC(),s=this.validateTabD();if(t&&l&&a&&s){var i=JSON.parse(localStorage.getItem("ID"));this.submitPath=!0;var o=new FormData;o.append("updateData",JSON.stringify(this.model)),this.$axios.post("http://127.0.0.1:8000/api/updatePatientData?patientId="+i+"&allergy1="+this.patientAllergy1+"&allergy2="+this.patientAllergy2+"&allergy3="+this.patientAllergy3,o).then((function(t){e.$router.push({path:"patient-profile"})})),this.launchToast("Details Updated")}},validateTabA:function(){var e=this.$refs.demographic.validate();return e?(this.tabA=!1,!0):(this.tabA=!0,!1)},validateTabB:function(){var e=this.$refs.socioDemographic.validate();return e?(this.tabB=!1,!0):(this.tabB=!0,!1)},validateTabC:function(){var e=this.$refs.nextOfKin.validate();return e?(this.tabC=!1,!0):(this.tabC=!0,!1)},validateTabD:function(){var e=this.$refs.allergy.validate();return e?(this.tabD=!1,!0):(this.tabD=!0,!1)},showPreviewModal:function(){this.model.MD_CITIZENSHIP=this.model.CITIZENSHIP,this.model.MD_GENDER=this.model.GENDER,this.model.MD_EXISTING_PATIENT=this.model.EXISTING_PATIENT,this.model.MD_ALLERGY=this.model.ALLERGY,this.showLargeModal=!0},launchToast:function(e){this.showToast(this.model.DM_NAME+" "+e,{icon:"fa-check",position:"top-center",duration:2500,fullWidth:!1})}},beforeRouteLeave:function(e,t,l){if(!0===this.submitPath)l(!0);else{var a=window.confirm("Data will be lost if you leave the page, are you sure?");l(!!a)}}},S=E,T=(l("60bc"),l("590d"),l("2877")),b=Object(T["a"])(S,a,s,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-77569fbd.319e6de6.js.map