(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5bb61254"],{8486:function(e,t,a){"use strict";a("9529")},"8f4b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[1==e.tabA?a("div",{staticClass:"mb-3"},[a("va-notification",{attrs:{color:"danger"}},[a("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),a("span",[e._v("Please fill all "),a("b",[e._v(" Dscharge Details ")]),e._v(" required fields.")]),a("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(t){e.tabA=!1}}},[a("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),1==e.tabB?a("div",{staticClass:"mb-3"},[a("va-notification",{attrs:{color:"danger"}},[a("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),a("span",[e._v("Please fill all "),a("b",[e._v(" Verification ")]),e._v(" required fields.")]),a("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(t){e.tabB=!1}}},[a("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),a("va-card",[a("div",{staticClass:"text-center"},[a("h3",{staticClass:"mt-4 mb-5 text-dark"},[e._v("CONSULTATION DISCHARGE NOTE")])]),a("va-accordion",{staticClass:"my-4"},[a("va-collapse",[a("span",{attrs:{slot:"header"},slot:"header"},[a("b",[e._v("PATIENT DETAILS")])]),a("div",{attrs:{slot:"body"},slot:"body"},[a("vue-form-generator",{ref:"patientDetails",attrs:{model:e.model,schema:e.patientSchema,options:e.formOptions}})],1)]),a("va-collapse",[a("span",{attrs:{slot:"header"},slot:"header"},[a("b",[e._v("REFERRAL DETAILS")])]),a("div",{attrs:{slot:"body"},slot:"body"},[a("vue-form-generator",{ref:"dischargeDetails",attrs:{schema:e.dischargeSchema,model:e.model,options:e.formOptions}})],1)]),a("va-collapse",[a("span",{attrs:{slot:"header"},slot:"header"},[a("b",[e._v("VERIFICATION")])]),a("div",{attrs:{slot:"body"},slot:"body"},[a("vue-form-generator",{ref:"verificationDetails",attrs:{schema:e.verificationSchema,model:e.model,options:e.formOptions}})],1)])],1),a("h6",[e._v(e._s(e.model))]),a("div",{staticClass:"mt-3"},[a("div",{staticClass:"float-right"},[a("button",{staticClass:"ml-2 btn btn-fill btn-md btn-blue",attrs:{type:"submit"},on:{click:e.validateForm}},[a("div",{staticClass:"fa fa-paper-plane"}),e._v(" SUBMIT ")])])])],1)],1)])])])},l=[],i={data:function(){var e=this;return{tabA:!1,tabB:!1,submitPath:!1,selectDischargeCategory:[],selectDiagnosisType:[{name:"One",value:1},{name:"Two",value:2},{name:"Three",value:3}],model:{MRN:"",PATIENT_NAME:"",NRIC_PASSPORT:"",AGE:"",CONTACT_NO:"",GENDER:"",DIAGNOSIS:"",DISCHARGE_CATEGORY:"",SPECIFY_DISCHARGE_CATEGORY:"",COMMENT:"",SPECIALIST_NAME:"",DATE:""},patientSchema:{groups:[{fields:[{type:"label",label:"MRN: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"MRN",styleClasses:"col-lg-4"},{type:"label",label:"Patient Name: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"PATIENT_NAME",styleClasses:"col-lg-4"},{type:"label",label:"NRIC/Passport No: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"NRIC_PASSPORT",styleClasses:"col-lg-4"},{type:"label",label:"Age: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"AGE",styleClasses:"col-lg-4"},{type:"label",label:"Contact No: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"CONTACT_NO",styleClasses:"col-lg-4"},{type:"label",label:"Gender: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"GENDER",styleClasses:"col-lg-4"}]}]},dischargeSchema:{groups:[{styleClasses:"row",fields:[{type:"vueMultiSelect",label:"Diagnosis",placeholder:"Select ICD 10/ICD 11 Code",model:"DIAGNOSIS",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectDiagnosisType}}]},{styleClasses:"row",fields:[{type:"vueMultiSelect",label:"Category of Discharge",placeholder:"Please Select",model:"DISCHARGE_CATEGORY",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:180,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectDischargeCategory}},{type:"input",inputType:"text",model:"SPECIFY_DISCHARGE_CATEGORY",label:"",placeholder:"to specify",required:!0,validator:"string",styleClasses:"col-md-6",visible:function(e){return e&&(4===e.DISCHARGE_CATEGORY.value||5===e.DISCHARGE_CATEGORY.value)}}]},{styleClasses:"row",fields:[{type:"textArea",label:"COMMENT",model:"COMMENT",rows:3,required:!0,validator:"string",styleClasses:"col-md-12"}]}]},verificationSchema:{groups:[{styleClasses:"row",fields:[{type:"input",inputType:"text",label:"Specialist Name",model:"SPECIALIST_NAME",required:!0,validator:"string",styleClasses:"col-md-6"}]},{styleClasses:"row",fields:[{type:"input",inputType:"date",label:"Date",model:"DATE",format:"YYYY/MM/DD",required:!0,validator:"date",styleClasses:["col-md-6"]}]}]},formOptions:{validateAfterLoad:!1,validateAfterChanged:!0}}},mounted:function(){var e=this,t=JSON.parse(localStorage.getItem("ID"));this.$axios.get("http://127.0.0.1:8000/api/getConsultationDischargeNoteMountedData?patient_id="+t).then((function(t){e.selectDischargeCategory=t.data.dischargeCategory,e.model.MRN=t.data.patientData[0].mrn,e.model.PATIENT_NAME=t.data.patientData[0].name,e.model.NRIC_PASSPORT=t.data.patientData[0].nricPassport,null!==t.data.patientData[0].birthdate&&(e.model.AGE=(new Date).getFullYear()-t.data.patientData[0].birthdate.toString().substring(0,4)),e.model.CONTACT_NO=t.data.patientData[0].contact,e.model.GENDER=t.data.patientData[0].gender}))},methods:{validateForm:function(){var e=this.validateTabA(),t=this.validateTabB();if(e&&t){var a=new FormData;a.append("psychiatryClerkingNote",JSON.stringify(this.model)),this.$axios.post("http://127.0.0.1:8000/api/savePsychiatryClerkingNote",a).then((function(e){return e.data})),this.launchToast("Pyschiatry Clerking Note for the Patient Saved Successfully!"),this.submitPath=!0,this.$router.push({name:"patient-appointmentList"})}},validateTabA:function(){var e=this.$refs.dischargeDetails.validate();return e?(this.tabA=!1,!0):(this.tabA=!0,!1)},validateTabB:function(){var e=this.$refs.verificationDetails.validate();return e?(this.tabB=!1,!0):(this.tabB=!0,!1)},launchToast:function(e){this.showToast(e,{icon:"fa-check",position:"top-center",duration:2500,fullWidth:!1})}},beforeRouteLeave:function(e,t,a){if(!0===this.submitPath)a(!0);else{var s=window.confirm("Changes you made may not be saved.");a(!!s)}}},o=i,r=(a("8486"),a("2877")),n=Object(r["a"])(o,s,l,!1,null,null,null);t["default"]=n.exports},9529:function(e,t,a){}}]);
//# sourceMappingURL=chunk-5bb61254.37d4460c.js.map