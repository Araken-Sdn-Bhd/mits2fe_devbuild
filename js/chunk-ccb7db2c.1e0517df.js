(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ccb7db2c"],{"480f":function(e,l,t){"use strict";t.r(l);var a=function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",{staticClass:"content"},[t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[1==e.tabA?t("div",{staticClass:"mb-3"},[t("va-notification",{attrs:{color:"danger"}},[t("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),t("span",[e._v("Please fill all "),t("b",[e._v(" Clinical Note ")]),e._v(" required fields.")]),t("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(l){e.tabA=!1}}},[t("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),t("va-card",[t("div",{staticClass:"text-center"},[t("h3",{staticClass:"mt-4 mb-5 text-dark"},[e._v("CLINICAL NOTE")])]),t("vue-form-generator",{ref:"clinicalNote1",attrs:{model:e.model,schema:e.clinicalNote1Schema,options:e.formOptions}}),t("va-accordion",{staticClass:"my-4"},[t("va-collapse",[t("span",{attrs:{slot:"header"},slot:"header"},[t("b",[e._v("PATIENT DETAILS")])]),t("div",{attrs:{slot:"body"},slot:"body"},[t("vue-form-generator",{ref:"patientDetails",attrs:{schema:e.patientSchema,model:e.model,options:e.formOptions}})],1)]),t("va-collapse",[t("span",{attrs:{slot:"header"},slot:"header"},[t("b",[e._v("STAFF DETAILS")])]),t("div",{attrs:{slot:"body"},slot:"body"},[t("vue-form-generator",{ref:"staffDetails",attrs:{schema:e.staffSchema,model:e.model,options:e.formOptions}})],1)])],1),t("vue-form-generator",{ref:"clinicalNote2",attrs:{model:e.model,schema:e.clinicalNote2Schema,options:e.formOptions}}),t("h6",[e._v(e._s(e.model))]),t("div",{staticClass:"mt-3"},[t("div",{staticClass:"float-right"},[t("button",{staticClass:"ml-2 btn btn-fill btn-md btn-blue",attrs:{type:"submit"},on:{click:e.validateForm}},[t("div",{staticClass:"fa fa-paper-plane"}),e._v(" SUBMIT ")])])])],1)],1)])])])},s=[],o={data:function(){var e=this;return{tabA:!1,submitPath:!1,selectServiceLocation:[],selectDiagnosisType:[{name:"One",value:1},{name:"Two",value:2},{name:"Three",value:3}],selectICD9Code:[{name:"One",value:1},{name:"Two",value:2},{name:"Three",value:3}],selectICD9Subcode:[{name:"One",value:1},{name:"Two",value:2},{name:"Three",value:3}],selectServiceComplexity:[],selectOutcome:[],radioServiceCategory:[],model:{selectServiceCategory1:"",selectServiceCategory3:"",SERVICE_LOCATION:"",SPECIFY_SERVICE_LOCATION:"",TITLE:"PROGRESS NOTE",DIAGNOSIS_TYPE:"",SERVICE_CATEGORY:"",SERVICE_COMPLEXITY:"",SERVICES:"",ICD9_CODE:"",ICD9_SUBCODE:"",OUTCOME:"",MEDICATION:"",STAFF_NAME:"",DESIGNATION:"",ROOM:"",MRN:"",PATIENT_NAME:"",NRIC_PASSPORT:"",AGE:"",CONTACT_NO:"",GENDER:"",DOB:"",DATE:"",TIME:"",DIAGNOSIS:"",CLINICAL_NOTES:"",MANAGEMENT:""},clinicalNote1Schema:{groups:[{styleClasses:"row",fields:[{type:"vueMultiSelect",label:"Location of Services",placeholder:"Select Location of Services",model:"SERVICE_LOCATION",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectServiceLocation}},{type:"input",inputType:"text",label:"",required:!0,validator:"string",model:"SPECIFY_SERVICE_LOCATION",placeholder:"Please Specify Location of Services",styleClasses:"col-md-6",visible:function(e){return e&&7===e.SERVICE_LOCATION.value}}]},{styleClasses:"row",fields:[{type:"label",label:"Title: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"TITLE",styleClasses:"col-lg-4"}]}]},patientSchema:{groups:[{fields:[{type:"label",label:"MRN: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"MRN",styleClasses:"col-lg-4"},{type:"label",label:"Patient Name: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"PATIENT_NAME",styleClasses:"col-lg-4"},{type:"label",label:"NRIC/Passport No: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"NRIC_PASSPORT",styleClasses:"col-lg-4"},{type:"label",label:"Age: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"AGE",styleClasses:"col-lg-4"},{type:"label",label:"Contact No: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"CONTACT_NO",styleClasses:"col-lg-4"},{type:"label",label:"Gender: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"GENDER",styleClasses:"col-lg-4"},{type:"label",label:"DOB: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"DOB",styleClasses:"col-lg-4"},{type:"label",label:"Date: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"DATE",styleClasses:"col-lg-4"},{type:"label",label:"Time: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"TIME",styleClasses:"col-lg-4"}]}]},staffSchema:{groups:[{fields:[{type:"label",label:"Staff Name/Seen By: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"STAFF_NAME",styleClasses:"col-lg-4"},{type:"label",label:"Designation: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"DESIGNATION",styleClasses:"col-lg-4"},{type:"label",label:"Room No: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"ROOM",styleClasses:"col-lg-4"}]}]},clinicalNote2Schema:{groups:[{fields:[{type:"input",inputType:"text",label:"Diagnosis",model:"DIAGNOSIS",readonly:!0,styleClasses:"col-md-6"},{type:"textArea",label:"Clinical Notes",model:"CLINICAL_NOTES",placeholder:"Enter Clinical Notes",rows:3,required:!0,validator:"string",styleClasses:"col-md-12"},{type:"textArea",label:"Management",model:"MANAGEMENT",placeholder:"Enter Management",rows:3,required:!0,validator:"string",styleClasses:"col-md-12"}]},{styleClasses:"row",fields:[{type:"vueMultiSelect",label:"Type of Diagnosis",placeholder:"Select ICD 10/ICD 11 Code",model:"DIAGNOSIS_TYPE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectDiagnosisType},onChanged:function(e,l,t,a){e.DIAGNOSIS=l.name}}]},{styleClasses:"row",fields:[{type:"radios",label:"Category of Service",model:"SERVICE_CATEGORY",required:!0,validator:"required",styleClasses:["col-md-6","display-inline"],values:function(){return e.radioServiceCategory},onChanged:function(e,l,t,a){var s=this;1===l?(this.$axios.get("http://127.0.0.1:8000/api/getServiceBasedOnCategory?id="+e.SERVICE_CATEGORY).then((function(e){s.model.selectServiceCategory1=e.data.data})),e.ICD9_CODE="",e.ICD9_SUBCODE="",e.SERVICES=""):2===l?e.SERVICES="":3===l&&(this.$axios.get("http://127.0.0.1:8000/api/getServiceBasedOnCategory?id="+e.SERVICE_CATEGORY).then((function(l){e.selectServiceCategory3=l.data.data})),e.ICD9_CODE="",e.ICD9_SUBCODE="",e.SERVICES="")}}]},{styleClasses:"row",fields:[{type:"vueMultiSelect",label:"Services",placeholder:"Select Services",model:"SERVICES",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.model.selectServiceCategory1},visible:function(e){return e&&1===e.SERVICE_CATEGORY}},{type:"vueMultiSelect",label:"ICD9 Code",placeholder:"Select Code",model:"ICD9_CODE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectICD9Code},visible:function(e){return e&&2===e.SERVICE_CATEGORY}},{type:"vueMultiSelect",label:"ICD9 Sub Code",placeholder:"Select Sub Code",model:"ICD9_SUBCODE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectICD9Subcode},visible:function(e){return e&&2===e.SERVICE_CATEGORY}},{type:"vueMultiSelect",label:"Services",placeholder:"Select Services",model:"SERVICES",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.model.selectServiceCategory3},visible:function(e){return e&&3===e.SERVICE_CATEGORY}}]},{styleClasses:"row",fields:[{type:"vueMultiSelect",label:"Complexity of Service",placeholder:"Select Complexity of Service",model:"SERVICE_COMPLEXITY",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectServiceComplexity}},{type:"vueMultiSelect",label:"Outcome",placeholder:"Select Outcome",model:"OUTCOME",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectOutcome}}]},{styleClasses:"row",fields:[{type:"textArea",label:"Medication",model:"MEDICATION",placeholder:"Please Type Prescription Here",rows:4,required:!0,validator:"string",styleClasses:"col-md-12"}]}]},formOptions:{validateAfterLoad:!1,validateAfterChanged:!0}}},mounted:function(){var e=this,l=JSON.parse(localStorage.getItem("ID"));this.$axios.get("http://127.0.0.1:8000/api/getProgressNoteMountedData?patient_id="+l).then((function(l){e.selectServiceLocation=l.data.serviceLocation,e.selectServiceComplexity=l.data.serviceComplexity,e.selectOutcome=l.data.serviceOutcome,e.radioServiceCategory=l.data.serviceCategory,e.model.MRN=l.data.patientData[0].mrn,e.model.PATIENT_NAME=l.data.patientData[0].name,e.model.NRIC_PASSPORT=l.data.patientData[0].nricPassport,null!==l.data.patientData[0].birthdate&&(e.model.AGE=(new Date).getFullYear()-l.data.patientData[0].birthdate.toString().substring(0,4),e.model.DOB=new Date(l.data.patientData[0].birthdate).toLocaleDateString("en-MY")),e.model.CONTACT_NO=l.data.patientData[0].contact,e.model.GENDER=l.data.patientData[0].gender,e.model.DATE=(new Date).toLocaleDateString("en-MY"),e.model.TIME=(new Date).toLocaleTimeString("en-MY")}))},methods:{validateForm:function(){var e=this.validateTabA(),l=this.validateTabB();if(e&&l){var t=new FormData;t.append("psychiatryClerkingNote",JSON.stringify(this.model)),this.$axios.post("http://127.0.0.1:8000/api/savePsychiatryClerkingNote",t).then((function(e){return e.data})),this.launchToast("Pyschiatry Clerking Note for the Patient Saved Successfully!"),this.submitPath=!0,this.$router.push({name:"patient-appointmentList"})}},validateTabA:function(){var e=this.$refs.clinicalNote1.validate();return e?(this.tabA=!1,!0):(this.tabA=!0,!1)},validateTabB:function(){var e=this.$refs.clinicalNote2.validate();return e?(this.tabA=!1,!0):(this.tabA=!0,!1)},launchToast:function(e){this.showToast(e,{icon:"fa-check",position:"top-center",duration:2500,fullWidth:!1})}},beforeRouteLeave:function(e,l,t){if(!0===this.submitPath)t(!0);else{var a=window.confirm("Changes you made may not be saved.");t(!!a)}}},i=o,r=(t("844b"),t("2877")),c=Object(r["a"])(i,a,s,!1,null,null,null);l["default"]=c.exports},"7f882":function(e,l,t){},"844b":function(e,l,t){"use strict";t("7f882")}}]);
//# sourceMappingURL=chunk-ccb7db2c.1e0517df.js.map