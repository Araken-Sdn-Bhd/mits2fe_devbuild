(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51708f9c"],{8454:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"content"},[l("div",{staticClass:"container-fluid"},[l("div",{staticClass:"row"},[l("div",{staticClass:"col-12"},[1==e.tabA||1==e.tabD?l("div",{staticClass:"mb-3"},[l("va-notification",{attrs:{color:"danger"}},[l("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),l("span",[e._v("Please fill all "),l("b",[e._v(" Clinical Note ")]),e._v(" required fields.")]),l("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(t){e.tabA=!1,e.tabD=!1}}},[l("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),1==e.tabB?l("div",{staticClass:"mb-3"},[l("va-notification",{attrs:{color:"danger"}},[l("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),l("span",[e._v("Please fill all "),l("b",[e._v(" Consultation Details ")]),e._v(" required fields.")]),l("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(t){e.tabB=!1}}},[l("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),1==e.tabC?l("div",{staticClass:"mb-3"},[l("va-notification",{attrs:{color:"danger"}},[l("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),l("span",[e._v("Please fill all "),l("b",[e._v(" Treatment Plan ")]),e._v(" required fields.")]),l("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(t){e.tabC=!1}}},[l("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),l("va-card",[l("div",{staticClass:"text-center"},[l("h3",{staticClass:"mt-4 mb-5 text-dark"},[e._v("CLINICAL NOTE")])]),l("vue-form-generator",{ref:"clinicalNote1",attrs:{model:e.model,schema:e.clinicalNote1Schema,options:e.formOptions}}),l("va-accordion",{staticClass:"my-4"},[l("va-collapse",[l("span",{attrs:{slot:"header"},slot:"header"},[l("b",[e._v("PATIENT DETAILS")])]),l("div",{attrs:{slot:"body"},slot:"body"},[l("vue-form-generator",{ref:"patientDetails",attrs:{schema:e.patientSchema,model:e.model,options:e.formOptions}})],1)]),l("va-collapse",[l("span",{attrs:{slot:"header"},slot:"header"},[l("b",[e._v("STAFF DETAILS")])]),l("div",{attrs:{slot:"body"},slot:"body"},[l("vue-form-generator",{ref:"staffDetails",attrs:{schema:e.staffSchema,model:e.model,options:e.formOptions}})],1)]),l("va-collapse",[l("span",{attrs:{slot:"header"},slot:"header"},[l("b",[e._v("CONSULTATION DETAILS")])]),l("div",{attrs:{slot:"body"},slot:"body"},[l("vue-form-generator",{ref:"consultationDetails",attrs:{schema:e.consultationSchema,model:e.model,options:e.formOptions}})],1)]),l("va-collapse",[l("span",{attrs:{slot:"header"},slot:"header"},[l("b",[e._v("TREATMENT PLAN")])]),l("div",{attrs:{slot:"body"},slot:"body"},[l("vue-form-generator",{ref:"treatmentPlan",attrs:{schema:e.treatmentSchema,model:e.model,options:e.formOptions}})],1)])],1),l("vue-form-generator",{ref:"clinicalNote2",attrs:{model:e.model,schema:e.clinicalNote2Schema,options:e.formOptions}}),l("h6",[e._v(e._s(e.model))]),l("div",{staticClass:"mt-3"},[l("div",{staticClass:"float-right"},[l("button",{staticClass:"ml-2 btn btn-fill btn-md btn-blue",attrs:{type:"submit"},on:{click:e.validateForm}},[l("div",{staticClass:"fa fa-paper-plane"}),e._v(" SUBMIT ")])])])],1)],1)])])])},s=[],o={data:function(){var e=this;return{tabA:!1,tabB:!1,tabC:!1,tabD:!1,submitPath:!1,selectServiceLocation:[],selectDiagnosisType:[{name:"One",value:1},{name:"Two",value:2},{name:"Three",value:3}],selectICD9Code:[{name:"One",value:1},{name:"Two",value:2},{name:"Three",value:3}],selectICD9Subcode:[{name:"One",value:1},{name:"Two",value:2},{name:"Three",value:3}],selectServiceComplexity:[],selectOutcome:[],radioServiceCategory:[],model:{selectServiceCategory1:"",selectServiceCategory3:"",SERVICE_LOCATION:"",SPECIFY_SERVICE_LOCATION:"",TITLE:"PATIENT CARE PLAN",DIAGNOSIS_TYPE:"",SERVICE_CATEGORY:"",SERVICE_COMPLEXITY:"",SERVICES:"",ICD9_CODE:"",ICD9_SUBCODE:"",OUTCOME:"",MEDICATION:"",MRN:"",PATIENT_NAME:"",NRIC_PASSPORT:"",AGE:"",CONTACT_NO:"",GENDER:"",DOB:"",STAFF_DATE:"",PSYCHIATRY_NAME:"",INTERVIEW_REVIEW:"",DIAGNOSIS:"",CONSULTATION_MEDICATION:"",BACKGROUND_HISTORY:"",ISSUE:"",GOAL:"",MANAGEMENT_STRATEGY:"",WHO_WHEN:"",DATE:"",CASE_MANAGER_NAME:"",CASE_MANAGER_DESIGNATION:"",CASE_MANAGER_DATE:"",SPECIALIST_NAME:"",SPECIALIST_DESIGNATION:"",SPECIALIST_DATE:""},clinicalNote1Schema:{groups:[{styleClasses:"row",fields:[{type:"vueMultiSelect",label:"Location of Services",placeholder:"Select Location of Services",model:"SERVICE_LOCATION",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectServiceLocation}},{type:"input",inputType:"text",label:"",required:!0,validator:"string",model:"SPECIFY_SERVICE_LOCATION",placeholder:"Please Specify Location of Services",styleClasses:"col-md-6",visible:function(e){return e&&7===e.SERVICE_LOCATION.value}}]},{styleClasses:"row",fields:[{type:"label",label:"Title: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"TITLE",styleClasses:"col-lg-4"}]}]},patientSchema:{groups:[{fields:[{type:"label",label:"MRN: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"MRN",styleClasses:"col-lg-4"},{type:"label",label:"Patient Name: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"PATIENT_NAME",styleClasses:"col-lg-4"},{type:"label",label:"NRIC/Passport No: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"NRIC_PASSPORT",styleClasses:"col-lg-4"},{type:"label",label:"Age: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"AGE",styleClasses:"col-lg-4"},{type:"label",label:"Contact No: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"CONTACT_NO",styleClasses:"col-lg-4"},{type:"label",label:"Gender",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"GENDER",styleClasses:"col-lg-4"},{type:"label",label:"DOB: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"DOB",styleClasses:"col-lg-4"}]}]},staffSchema:{groups:[{fields:[{type:"label",label:"Date: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"STAFF_DATE",styleClasses:"col-lg-4"},{type:"label",label:"Psychiatrist in Charge: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"PSYCHIATRIST",styleClasses:"col-lg-4"},{type:"input",inputType:"text",label:"Reason for Review",model:"INTERVIEW_REVIEW",styleClasses:"col-md-6"}]}]},consultationSchema:{groups:[{fields:[{type:"input",inputType:"text",label:"Diagnosis",model:"DIAGNOSIS",readonly:!0,styleClasses:"col-md-6"},{type:"textArea",label:"Medication",model:"CONSULTATION_MEDICATION",placeholder:"Insert Medication",rows:3,required:!0,validator:"string",styleClasses:"col-md-12"},{type:"textArea",label:"Backgorund History",model:"BACKGROUND_HISTORY",placeholder:"Insert Background History",rows:3,required:!0,validator:"string",styleClasses:"col-md-12"}]}]},treatmentSchema:{groups:[{fields:[{type:"input",inputType:"text",label:"Issues/Current Status",model:"ISSUE",required:!0,validator:"string",styleClasses:"col-md-3"},{type:"input",inputType:"text",label:"Goal(s)",model:"GOAL",required:!0,validator:"string",styleClasses:"col-md-3"},{type:"input",inputType:"text",label:"Management Strategies",model:"MANAGEMENT_STRATEGY",required:!0,validator:"string",styleClasses:"col-md-3"},{type:"input",inputType:"text",label:"Who, by When",model:"WHO_WHEN",required:!0,validator:"string",styleClasses:"col-md-3"},{type:"label",label:"Date of Next Review:",styleClasses:"col-md-3"},{type:"input",inputType:"date",label:"Date",model:"DATE",required:!0,validator:"date",format:"YYYY/MM/DD",styleClasses:["col-md-3"]}]},{fields:[{type:"label",label:"<u>Case Manager</u>",styleClasses:["col-md-6","text-center"]},{type:"label",label:"<u>Specialist Incharge</u>",styleClasses:["col-md-6","text-center"]},{type:"input",inputType:"text",label:"Name",model:"CASE_MANAGER_NAME",required:!0,validator:"string",styleClasses:"col-md-6"},{type:"input",inputType:"text",label:"Name",model:"SPECIALIST_NAME",required:!0,validator:"string",styleClasses:"col-md-6"},{type:"input",inputType:"text",label:"Designation",model:"CASE_MANAGER_DESIGNATION",required:!0,validator:"string",styleClasses:"col-md-6"},{type:"input",inputType:"text",label:"Designation",model:"SPECIALIST_DESIGNATION",required:!0,validator:"string",styleClasses:"col-md-6"},{type:"input",inputType:"date",label:"Date",model:"CASE_MANAGER_DATE",required:!0,validator:"date",format:"YYYY/MM/DD",styleClasses:["col-md-6"]},{type:"input",inputType:"date",label:"Date",model:"SPECIALIST_DATE",required:!0,validator:"date",format:"YYYY/MM/DD",styleClasses:["col-md-6"]}]}]},clinicalNote2Schema:{groups:[{styleClasses:"row",fields:[{type:"vueMultiSelect",label:"Type of Diagnosis",placeholder:"Select ICD 10/ICD 11 Code",model:"DIAGNOSIS_TYPE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectDiagnosisType},onChanged:function(e,t,l,a){e.DIAGNOSIS=t.name}}]},{styleClasses:"row",fields:[{type:"radios",label:"Category of Service",model:"SERVICE_CATEGORY",required:!0,validator:"required",styleClasses:["col-md-6","display-inline"],values:function(){return e.radioServiceCategory},onChanged:function(e,t,l,a){var s=this;1===t?(this.$axios.get("http://127.0.0.1:8000/api/getServiceBasedOnCategory?id="+e.SERVICE_CATEGORY).then((function(e){s.model.selectServiceCategory1=e.data.data})),e.ICD9_CODE="",e.ICD9_SUBCODE="",e.SERVICES=""):2===t?e.SERVICES="":3===t&&(this.$axios.get("http://127.0.0.1:8000/api/getServiceBasedOnCategory?id="+e.SERVICE_CATEGORY).then((function(t){e.selectServiceCategory3=t.data.data})),e.ICD9_CODE="",e.ICD9_SUBCODE="",e.SERVICES="")}}]},{styleClasses:"row",fields:[{type:"vueMultiSelect",label:"Services",placeholder:"Select Services",model:"SERVICES",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.model.selectServiceCategory1},visible:function(e){return e&&1===e.SERVICE_CATEGORY}},{type:"vueMultiSelect",label:"ICD9 Code",placeholder:"Select Code",model:"ICD9_CODE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectICD9Code},visible:function(e){return e&&2===e.SERVICE_CATEGORY}},{type:"vueMultiSelect",label:"ICD9 Sub Code",placeholder:"Select Sub Code",model:"ICD9_SUBCODE",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectICD9Subcode},visible:function(e){return e&&2===e.SERVICE_CATEGORY}},{type:"vueMultiSelect",label:"Services",placeholder:"Select Services",model:"SERVICES",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.model.selectServiceCategory3},visible:function(e){return e&&3===e.SERVICE_CATEGORY}}]},{styleClasses:"row",fields:[{type:"vueMultiSelect",label:"Complexity of Service",placeholder:"Select Complexity of Service",model:"SERVICE_COMPLEXITY",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectServiceComplexity}},{type:"vueMultiSelect",label:"Outcome",placeholder:"Select Outcome",model:"OUTCOME",required:!0,validator:"required",selectOptions:{multiple:!1,closeOnSelect:!0,maxHeight:200,showLabels:!1,key:"value",label:"name"},styleClasses:"col-md-6",values:function(){return e.selectOutcome}}]},{styleClasses:"row",fields:[{type:"textArea",label:"Medication",model:"MEDICATION",placeholder:"Please Type Prescription Here",rows:4,required:!0,validator:"string",styleClasses:"col-md-12"}]}]},formOptions:{validateAfterLoad:!1,validateAfterChanged:!0}}},mounted:function(){var e=this,t=JSON.parse(localStorage.getItem("ID"));this.$axios.get("http://127.0.0.1:8000/api/getPatientCarePlanMountedData?patient_id="+t).then((function(t){e.selectServiceLocation=t.data.serviceLocation,e.selectServiceComplexity=t.data.serviceComplexity,e.selectOutcome=t.data.serviceOutcome,e.radioServiceCategory=t.data.serviceCategory,e.model.MRN=t.data.patientData[0].mrn,e.model.PATIENT_NAME=t.data.patientData[0].name,e.model.NRIC_PASSPORT=t.data.patientData[0].nricPassport,null!==t.data.patientData[0].birthdate&&(e.model.AGE=(new Date).getFullYear()-t.data.patientData[0].birthdate.toString().substring(0,4),e.model.DOB=new Date(t.data.patientData[0].birthdate).toLocaleDateString("en-MY")),e.model.CONTACT_NO=t.data.patientData[0].contact,e.model.GENDER=t.data.patientData[0].gender,e.model.STAFF_DATE=(new Date).toLocaleDateString("en-MY")}))},methods:{validateForm:function(){var e=this.validateTabA(),t=this.validateTabB(),l=this.validateTabC(),a=this.validateTabD();if(e&&t&&l&&a){var s=new FormData;s.append("psychiatryClerkingNote",JSON.stringify(this.model)),this.$axios.post("http://127.0.0.1:8000/api/savePsychiatryClerkingNote",s).then((function(e){return e.data})),this.launchToast("Pyschiatry Clerking Note for the Patient Saved Successfully!"),this.submitPath=!0,this.$router.push({name:"patient-appointmentList"})}},validateTabA:function(){var e=this.$refs.clinicalNote1.validate();return e?(this.tabA=!1,!0):(this.tabA=!0,!1)},validateTabB:function(){var e=this.$refs.consultationDetails.validate();return e?(this.tabB=!1,!0):(this.tabB=!0,!1)},validateTabC:function(){var e=this.$refs.treatmentPlan.validate();return e?(this.tabC=!1,!0):(this.tabC=!0,!1)},validateTabD:function(){var e=this.$refs.clinicalNote2.validate();return e?(this.tabD=!1,!0):(this.tabD=!0,!1)},launchToast:function(e){this.showToast(e,{icon:"fa-check",position:"top-center",duration:2500,fullWidth:!1})}},beforeRouteLeave:function(e,t,l){if(!0===this.submitPath)l(!0);else{var a=window.confirm("Changes you made may not be saved.");l(!!a)}}},i=o,r=(l("917d"),l("2877")),n=Object(r["a"])(i,a,s,!1,null,null,null);t["default"]=n.exports},"917d":function(e,t,l){"use strict";l("bbd7")},bbd7:function(e,t,l){}}]);
//# sourceMappingURL=chunk-51708f9c.5cf77a8d.js.map