(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d7e54b28"],{7619:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",[a("div",{staticClass:"row align--center"},[a("div",{staticClass:"flex xs12 md6"},[a("h5",[t._v("LIST OF APPOINTMENT REQUESTS")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12 md6"},[a("va-input",{attrs:{value:t.term,placeholder:t.$t("Search By Name/NRIC"),removable:""},on:{input:t.search}},[a("va-icon",{attrs:{slot:"prepend",name:"fa fa-search"},slot:"prepend"})],1)],1)]),a("va-data-table",{attrs:{fields:t.fields,data:t.filteredData,"per-page":parseInt(t.perPage),hoverable:!0,clickable:""},scopedSlots:t._u([{key:"no",fn:function(e){return[t._v(" "+t._s(e.rowIndex+1)+" ")]}},{key:"date",fn:function(e){return[t._v(" "+t._s(t.getDate(e.rowData.date))+" ")]}},{key:"actions",fn:function(e){return[a("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"black",icon:"fa fa-calendar-o"},on:{click:function(a){return t.redirectToBookAppointment(e.rowData)}}})]}}])}),a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12 md2 offset--md10"},[a("va-select",{attrs:{label:t.$t("tables.perPage"),options:t.perPageOptions,noClear:""},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)])],1)},s=[],r=a("a34a"),i=a.n(r),o=a("2ef0");function c(t,e,a,n,s,r,i){try{var o=t[r](i),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(n,s)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var r=t.apply(e,a);function i(t){c(r,n,s,i,o,"next",t)}function o(t){c(r,n,s,i,o,"throw",t)}i(void 0)}))}}var u={data:function(){return{term:"",no:1,perPage:"25",perPageOptions:["25","50","100","150","200"],users:[]}},mounted:function(){var t=this;this.$axios.get("http://127.0.0.1:8000/api/getRequestAppointmentList").then((function(e){t.users=e.data.data}))},computed:{fields:function(){return[{name:"__slot:no",title:this.$t("NO"),width:"25px",height:"45px",dataClass:"text-center"},{name:"name",title:this.$t("NAME"),width:"30%"},{name:"nricPassport",title:this.$t("NRIC/PASSPORT"),width:"10%"},{name:"contact",title:this.$t("CONTACT NUMBER"),width:"15%"},{name:"email",title:this.$t("EMAIL"),width:"20%"},{name:"__slot:date",title:this.$t("DATE"),width:"15%"},{name:"__slot:actions",title:this.$t("ACTION"),width:"10%",dataClass:"text-center"}]},filteredData:function(){var t=this;return!this.term||this.term.length<1?this.users:this.users.filter((function(e){return e.name.toLowerCase().startsWith(t.term.toLowerCase())||e.nricPassport.toLowerCase().startsWith(t.term.toLowerCase())}))}},methods:{getDate:function(t){return t.substring(0,10)},redirectToBookAppointment:function(t){var e=this;return l(i.a.mark((function a(){var n,s,r;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=new FormData,n.append("requestAppointmentData",JSON.stringify(t)),s="http://127.0.0.1:8000/api/requestAppointmentPartialRegistration",a.next=5,e.$axios.post(s,n);case 5:r=a.sent,localStorage.setItem("ID",JSON.stringify(r.data.patientId)),localStorage.setItem("requestAppointmentId",t.request_appointment_id),localStorage.setItem("nricPassport",t.nricPassport),e.$router.push({name:"patient-appointmentBooking",query:{st:"reqApp"}});case 10:case"end":return a.stop()}}),a)})))()},launchToast:function(){this.showToast(" Registration Successful !",{icon:"fa-check",position:"top-center",duration:2500,fullWidth:!1})},search:Object(o["debounce"])((function(t){this.term=t}),400)}},p=u,d=(a("81546"),a("2877")),f=Object(d["a"])(p,n,s,!1,null,null,null);e["default"]=f.exports},81546:function(t,e,a){"use strict";a("bfe3")},bfe3:function(t,e,a){}}]);
//# sourceMappingURL=chunk-d7e54b28.08d011cd.js.map