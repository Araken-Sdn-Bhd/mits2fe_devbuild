(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-809004c0"],{"21f8":function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content"},[t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[1==e.tabA?t("div",{staticClass:"mb-3"},[t("va-notification",{attrs:{color:"danger"}},[t("va-badge",{attrs:{color:"danger"}},[e._v(" "+e._s(e.$t("Incomplete"))+" ")]),t("span",[e._v("Please fill all required fields.")]),t("button",{staticClass:"btn close-button",attrs:{type:"button"},on:{click:function(a){e.tabA=!1}}},[t("span",{staticClass:"fa fa-close"})])],1)],1):e._e(),t("va-card",[t("div",{staticClass:"text-center"},[t("h3",{staticClass:"mt-4 mb-5 text-dark"},[e._v("OCCUPATIONAL THERAPY REFERRAL FORM")])]),t("va-accordion",{staticClass:"my-4"},[t("va-collapse",[t("span",{attrs:{slot:"header"},slot:"header"},[t("b",[e._v("PATIENT DETAILS")])]),t("div",{attrs:{slot:"body"},slot:"body"},[t("vue-form-generator",{ref:"patientDetails",attrs:{model:e.model,schema:e.patientSchema,options:e.formOptions}})],1)]),t("va-collapse",[t("span",{attrs:{slot:"header"},slot:"header"},[t("b",[e._v("REFERRAL DETAILS")])]),t("div",{attrs:{slot:"body"},slot:"body"},[t("vue-form-generator",{ref:"referral",attrs:{schema:e.referralSchema,model:e.model,options:e.formOptions}})],1)])],1),t("vue-form-generator",{ref:"staffDetails",attrs:{schema:e.staffSchema,model:e.model,options:e.formOptions}}),t("h6",[e._v(e._s(e.model))]),t("div",{staticClass:"mt-3"},[t("div",{staticClass:"float-right"},[t("button",{staticClass:"ml-2 btn btn-fill btn-md btn-blue",attrs:{type:"submit"},on:{click:e.validateForm}},[t("div",{staticClass:"fa fa-paper-plane"}),e._v(" SUBMIT ")])])])],1)],1)])])])},s=[],i={data:function(){var e=this;return{tabA:!1,submitPath:!1,listClinicalAssessment:[{name:"Activites of Daily Living Assessment",value:1},{name:"Behaviour Assessment",value:2},{name:"Cognitive and Perceptual Assessment",value:3},{name:"Child Development",value:4},{name:"Psychological Assessment",value:5},{name:"Seating and Wheelchair Assessment",value:6},{name:"Domestic Assessment",value:7},{name:"Driving Assessment",value:8},{name:"Hand Function and Upper Limb Assessment",value:9},{name:"Work/Home/School Assessment",value:10},{name:"Sensory Motor Living Assessment",value:11},{name:"Pre School/School Skill Assessment",value:12},{name:"Play Leisure Assessment",value:13},{name:"Work Assessment",value:14},{name:"Others",value:15}],listIntervention:[{name:"Activity of Daily Living Training",value:1},{name:"Aids Adaptation/Assistive Devices",value:2},{name:"Behavioural Therapy",value:3},{name:"Cognitive and Perceptual Training",value:4},{name:"Compression Therapy",value:5},{name:"Creative Therapy",value:6},{name:"Social Skills Training",value:7},{name:"Relaxation Therapy/Stress Management",value:8},{name:"Low Vision Rehabilitation",value:9},{name:"Domestic Rehabilitation",value:10},{name:"Fine Motor/Hand Function Training",value:11},{name:"Gross Motor/Functional Mobility",value:12},{name:"Patient's and Carer's Education",value:13},{name:"Play and Leisure (Exploration and Training)",value:14},{name:"Sensory Integration Training",value:15},{name:"Wheelchair Training",value:16},{name:"Work Rehabilitation",value:17},{name:"Splint",value:18},{name:"Others",value:19}],listPromotiveProgram:[{name:"Special Needs Children Program",value:1},{name:"Mental Health Program",value:2},{name:"Senior Citizen Program",value:3},{name:"Community Program",value:4},{name:"Out Patient Program",value:5},{name:"Teenagers and School Program",value:6},{name:"Diabetes Program",value:7},{name:"Hypertension Program",value:8},{name:"Antenatal/Mother and Child Program",value:9},{name:"Healthy Lifestyle Program",value:10}],model:{MRN:"",PATIENT_NAME:"",NRIC_PASSPORT:"",AGE:"",CONTACT_NO:"",GENDER:"",DOB:"",REFERRAL_LOCATION:"",REFERRAL_DATE:"",DIAGNOSIS:"",CLINICAL_ASSESSMENT:"",INTERVENTION:"",SPECIFY_CLINICAL_ASSESSMENT:"",SPECIFY_INTERVENTION:"",PROMOTIVE_PROGRAM:"",REFERRER_NAME:"",DESIGNATION:""},patientSchema:{groups:[{fields:[{type:"label",label:"MRN: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"MRN",styleClasses:"col-lg-4"},{type:"label",label:"Patient Name: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"PATIENT_NAME",styleClasses:"col-lg-4"},{type:"label",label:"NRIC/Passport No: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"NRIC_PASSPORT",styleClasses:"col-lg-4"},{type:"label",label:"Age: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"AGE",styleClasses:"col-lg-4"},{type:"label",label:"Contact No: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"CONTACT_NO",styleClasses:"col-lg-4"},{type:"label",label:"Gender: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"GENDER",styleClasses:"col-lg-4"},{type:"label",label:"DOB: ",featured:!0,styleClasses:"col-lg-2"},{type:"label",model:"DOB",styleClasses:"col-lg-4"}]}]},referralSchema:{groups:[{fields:[{type:"input",inputType:"text",label:"Referral Location",model:"REFERRAL_LOCATION",required:!0,validator:"string",styleClasses:"col-md-6"},{type:"input",inputType:"date",label:"Referral Date",model:"REFERRAL_DATE",format:"YYYY/MM/DD",required:!0,validator:"date",styleClasses:["col-md-6"]},{type:"input",inputType:"text",label:"Diagnosis",model:"DIAGNOSIS",required:!0,validator:"string",styleClasses:"col-md-6"},{type:"label",label:"Referral Purpose"}]},{styleClasses:"row",fields:[{type:"checklist",label:"Checklist Assessment",model:"CLINICAL_ASSESSMENT",values:function(){return e.listClinicalAssessment},listBox:!0,required:!0,validator:"array",styleClasses:"col-md-6"},{type:"input",inputType:"text",model:"SPECIFY_CLINICAL_ASSESSMENT",placeholder:"Specify Others",required:!0,validator:"string",styleClasses:"col-md-6",visible:function(e){return e&&e.CLINICAL_ASSESSMENT.includes(15)}}]},{styleClasses:"row",fields:[{type:"checklist",label:"Intervention",model:"INTERVENTION",values:function(){return e.listIntervention},listBox:!0,required:!0,validator:"array",styleClasses:"col-md-6"},{type:"input",inputType:"text",model:"SPECIFY_INTERVENTION",placeholder:"Specify Others",required:!0,validator:"string",styleClasses:"col-md-6",visible:function(e){return e&&e.INTERVENTION.includes(19)}}]},{styleClasses:"row",fields:[{type:"checklist",label:"Promotive Program",model:"PROMOTIVE_PROGRAM",values:function(){return e.listPromotiveProgram},listBox:!0,required:!0,validator:"array",styleClasses:"col-md-6"}]}]},staffSchema:{groups:[{styleClasses:"row",fields:[{type:"input",inputType:"text",label:"Referrer Name",model:"REFERRER_NAME",required:!0,validator:"string",styleClasses:"col-md-6"}]},{styleClasses:"row",fields:[{type:"input",inputType:"text",label:"Designation",model:"DESIGNATION",required:!0,validator:"string",styleClasses:"col-md-6"}]}]},formOptions:{validateAfterLoad:!1,validateAfterChanged:!0}}},mounted:function(){var e=this,a=JSON.parse(localStorage.getItem("ID"));this.$axios.get("http://127.0.0.1:8000/api/getOccupationalTherapyReferralFormMountedData?patient_id="+a).then((function(a){e.model.MRN=a.data.patientData[0].mrn,e.model.PATIENT_NAME=a.data.patientData[0].name,e.model.NRIC_PASSPORT=a.data.patientData[0].nricPassport,null!==a.data.patientData[0].birthdate&&(e.model.AGE=(new Date).getFullYear()-a.data.patientData[0].birthdate.toString().substring(0,4),e.model.DOB=new Date(a.data.patientData[0].birthdate).toLocaleDateString("en-MY")),e.model.CONTACT_NO=a.data.patientData[0].contact,e.model.GENDER=a.data.patientData[0].gender}))},methods:{validateForm:function(){var e=this.validateTabA(),a=this.validateTabB();if(e&&a){var t=new FormData;t.append("psychiatryClerkingNote",JSON.stringify(this.model)),this.$axios.post("http://127.0.0.1:8000/api/savePsychiatryClerkingNote",t).then((function(e){return e.data})),this.launchToast("Pyschiatry Clerking Note for the Patient Saved Successfully!"),this.submitPath=!0,this.$router.push({name:"patient-appointmentList"})}},validateTabA:function(){var e=this.$refs.referral.validate();return e?(this.tabA=!1,!0):(this.tabA=!0,!1)},validateTabB:function(){var e=this.$refs.staffDetails.validate();return e?(this.tabA=!1,!0):(this.tabA=!0,!1)},launchToast:function(e){this.showToast(e,{icon:"fa-check",position:"top-center",duration:2500,fullWidth:!1})}},beforeRouteLeave:function(e,a,t){if(!0===this.submitPath)t(!0);else{var l=window.confirm("Changes you made may not be saved.");t(!!l)}}},n=i,o=(t("4d8c"),t("2877")),r=Object(o["a"])(n,l,s,!1,null,null,null);a["default"]=r.exports},"4d8c":function(e,a,t){"use strict";t("a3d5")},a3d5:function(e,a,t){}}]);
//# sourceMappingURL=chunk-809004c0.aa2cdc98.js.map